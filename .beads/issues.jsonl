{"id":"curator-01l","title":"Add code coverage reporting to CI","description":"Integrate code coverage reporting into the CI pipeline.\n\nOptions:\n- cargo-llvm-cov (recommended for accuracy)\n- cargo-tarpaulin (easier setup)\n\nShould:\n- Generate coverage reports on PRs\n- Upload to codecov.io or similar\n- Add coverage badge to README\n\nCurrent coverage is estimated at ~17%.","acceptance_criteria":"CI runs coverage tool on PRs and uploads report to chosen service (codecov or equivalent) with required token/config; coverage results visible in CI artifacts/logs.","notes":"Coverage badge tracked separately in curator-rzl.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-14T22:20:54.398222-08:00","created_by":"gkze","updated_at":"2026-01-19T11:39:32.385585-08:00","dependencies":[{"issue_id":"curator-01l","depends_on_id":"curator-ar9","type":"relates-to","created_at":"2026-01-14T22:21:51.971764-08:00","created_by":"gkze"}]}
{"id":"curator-04k","title":"Replace .unwrap() with .expect() in progress.rs for mutex locks","description":"The progress reporter uses .unwrap() on mutex locks without context, which could panic with an unhelpful message if the mutex is poisoned.\n\nLocations:\n- crates/curator_cli/src/progress.rs:153 - self.state.lock().unwrap()\n- crates/curator_cli/src/progress.rs:468 - self.state.lock().unwrap()\n\nReplace with .expect() that provides context about what operation was being performed when the lock failed.","acceptance_criteria":"Replace both mutex lock unwraps in progress.rs with expect messages that describe the failed operation; no unwrap() remains in progress.rs for these locks.","notes":"Keep behavior identical; only improve panic context.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-14T22:20:29.026051-08:00","created_by":"gkze","updated_at":"2026-01-19T11:39:31.370171-08:00"}
{"id":"curator-09q","title":"Spike gitea-sdk replacement for GiteaClient","description":"Spike findings: gitea-sdk 0.6.0 (teatime) uses reqwest async; Client::new expects base URL without /api/v1 or trailing slash, supports Auth::Token/Basic; provides org/user list_repos builders with page/limit, user starred list + star/unstar + is_starred (page/limit, manual pagination required); models use string timestamps so we'd need parsing/conversion; no built-in rate limit handling or auto pagination noted. Trade-offs: integration adapter needed for PlatformClient/progress callbacks; gitea-sdk models use string timestamps requiring parsing; pagination is manual; no rate limit handling; adapter still needed for retries/ETag caching; benefit is offloading some API wiring but adds dependency churn.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-19T16:49:16.277746-08:00","created_by":"gkze","updated_at":"2026-01-19T22:11:41.830571-08:00","closed_at":"2026-01-19T22:11:41.830571-08:00","close_reason":"Spike complete: gitea-sdk requires significant adapter work (string timestamps, no rate limiting, manual pagination). Recommend keeping custom client.","dependencies":[{"issue_id":"curator-09q","depends_on_id":"curator-k70","type":"discovered-from","created_at":"2026-01-19T16:49:19.578481-08:00","created_by":"gkze"}]}
{"id":"curator-0eo","title":"Audit and standardize error mapping to PlatformError","description":"Review error handling across platform clients/services and standardize conversions into PlatformError with consistent variants and messages.","acceptance_criteria":"All platform clients map errors to PlatformError consistently; mapping rules documented in code comments or module docs; add/adjust tests where needed.","notes":"Pay attention to HTTP status handling and auth/rate-limit distinctions.","status":"open","priority":3,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:57.469253-08:00","created_by":"gkze","updated_at":"2026-01-19T11:39:37.046121-08:00"}
{"id":"curator-0tg","title":"GitLab: list_starred_repos_streaming() is not truly streaming","description":"GitLab's list_starred_repos_streaming() fetches all repos first then streams them to the channel, defeating the purpose of streaming for memory efficiency. The gitlab crate's pagination doesn't support true streaming. Consider implementing manual pagination or documenting the behavior difference.","status":"open","priority":3,"issue_type":"bug","created_at":"2026-01-14T15:29:42.789701-08:00","created_by":"gkze","updated_at":"2026-01-14T15:29:42.789701-08:00"}
{"id":"curator-0xl","title":"Add namespace to FetchedPage/FetchComplete progress events","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:56.640895-08:00","created_by":"gkze","updated_at":"2026-01-17T20:27:56.640895-08:00"}
{"id":"curator-17l","title":"Add ~/.netrc support for credential fallback","description":"## Summary\nAdd support for reading credentials from ~/.netrc as a fallback authentication mechanism. This is a standard Unix convention used by git, curl, and other tools.\n\n## Current State\nAuthentication is resolved via (highest to lowest precedence):\n1. CLI flags\n2. CURATOR_* environment variables\n3. Legacy env vars (GITHUB_TOKEN, GITLAB_TOKEN, etc.)\n4. Config file (~/.config/curator/config.toml)\n5. Built-in defaults\n\nNo netrc support exists.\n\n## Proposed Implementation\n\n### Recommended Crate\nUse `rust-netrc` crate (~23k downloads/month, MIT licensed, has reqwest-middleware integration):\n- Docs: https://docs.rs/rust-netrc/latest/netrc/\n- Lib.rs: https://lib.rs/crates/rust-netrc\n\n### Files to Modify\n| File | Changes |\n|------|---------|\n| `crates/curator/Cargo.toml` | Add `rust-netrc` dependency |\n| `crates/curator_cli/src/config.rs` | Add `apply_netrc_overrides()` method, call after legacy env overrides |\n\n### Machine Name Mapping\n| Machine in ~/.netrc | Platform |\n|---------------------|----------|\n| github.com | GitHub |\n| gitlab.com (or custom host) | GitLab |\n| codeberg.org | Codeberg |\n| Custom Gitea host | Gitea |\n\n### New Precedence Order\n1. CLI flags\n2. CURATOR_* env vars\n3. Legacy env vars\n4. **~/.netrc file (NEW)**\n5. Config file\n6. Defaults\n\n### Security Considerations\n- Warn if ~/.netrc has permissions other than 0600\n- Support NETRC env var for custom path (standard convention)\n\n## Acceptance Criteria\n- [ ] Tokens can be read from ~/.netrc for all platforms\n- [ ] Proper precedence: explicit config overrides netrc\n- [ ] Security warning for overly permissive file permissions\n- [ ] NETRC env var supported for custom file path\n- [ ] Documentation updated","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-14T15:40:13.833187-08:00","created_by":"gkze","updated_at":"2026-01-14T15:40:13.833187-08:00"}
{"id":"curator-183","title":"GitLab: Concurrency parameter ignored in list_starred_repos()","description":"The concurrency parameter is ignored in GitLab's list_starred_repos() because the gitlab crate handles pagination internally. This is a limitation of the underlying library. Consider documenting or implementing manual pagination for consistency.","status":"open","priority":4,"issue_type":"bug","created_at":"2026-01-14T15:29:42.943348-08:00","created_by":"gkze","updated_at":"2026-01-14T15:29:42.943348-08:00"}
{"id":"curator-1cp","title":"Extract generic paginated ETag-cached fetch in GitLab client","description":"GitLab's list_group_projects, list_user_projects, and list_starred_projects in crates/curator/src/gitlab/client.rs (lines 223-612) are ~100-line functions that differ only in URL template, EndpointType variant, and cache key builder. Extract a generic paginated_fetch\u003cT\u003e() function parameterized by these three inputs. Also move the shared FetchResult\u003cT\u003e and CacheStats types (duplicated between github/client.rs and gitlab/client.rs) to crate::platform, and extract the common get_conditional() method (~80 lines duplicated between GitHub and GitLab) into a shared HTTP utility.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T16:21:39.00645-08:00","created_by":"gkze","updated_at":"2026-01-28T16:52:21.484035-08:00","closed_at":"2026-01-28T16:52:21.484035-08:00","close_reason":"Extracted generic paginated_fetch\u003cT\u003e() function that consolidates ~90 lines of duplicated pagination logic across list_group_projects, list_user_projects, and list_starred_projects. Also added Copy to EndpointType. Net reduction: 124 lines."}
{"id":"curator-1n0","title":"Centralize cache key generation in api_cache entity","status":"open","priority":3,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T16:02:58.538872-08:00","created_by":"gkze","updated_at":"2026-01-23T16:02:58.538872-08:00"}
{"id":"curator-1qo","title":"Add CODE_OF_CONDUCT.md","description":"Add CODE_OF_CONDUCT.md (e.g., Contributor Covenant) and reference it from README/CONTRIBUTING.","acceptance_criteria":"Add CODE_OF_CONDUCT.md (Contributor Covenant acceptable) and reference it from README.md and CONTRIBUTING.md (if present).","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-19T08:52:14.505703-08:00","created_by":"gkze","updated_at":"2026-01-19T08:54:06.61402-08:00","dependencies":[{"issue_id":"curator-1qo","depends_on_id":"curator-6s0","type":"parent-child","created_at":"2026-01-19T08:57:31.9779-08:00","created_by":"gkze"}]}
{"id":"curator-1qv","title":"Audit unsafe code usage and document/forbid where possible","description":"Audit all unsafe Rust usage, document rationale, and tighten crate-level policies to minimize unsafe code surface.","acceptance_criteria":"- Inventory of unsafe blocks/modules with rationale is documented in-repo\n- Crates add `forbid(unsafe_code)` or scoped `allow` attributes where justified\n- Any remaining unsafe usage is explicitly documented and reviewed","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T03:20:58.056933-08:00","created_by":"gkze","updated_at":"2026-01-18T03:27:09.940065-08:00"}
{"id":"curator-1tx","title":"GitHub: Implement caching for user repos","description":"Add caching for user repos similar to org repos. See TODO at crates/curator/src/github/client.rs:862","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T16:47:56.934539-08:00","created_by":"gkze","updated_at":"2026-01-25T15:07:55.014261-08:00","closed_at":"2026-01-25T15:07:55.014261-08:00","close_reason":"Implemented list_user_repos_cached method using PaginatedFetchConfig::user_repos. Updated list_user_repos to use cached version when db is provided. Follows same pattern as org repos caching."}
{"id":"curator-24q","title":"Review default DB URL path handling for Windows/macOS","status":"open","priority":4,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:58.257017-08:00","created_by":"gkze","updated_at":"2026-01-17T20:27:58.257017-08:00"}
{"id":"curator-2bs","title":"Fix CLI help/config mismatch: remove .env mention or implement it","status":"closed","priority":2,"issue_type":"bug","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:55.716702-08:00","created_by":"gkze","updated_at":"2026-01-17T20:34:18.144483-08:00","closed_at":"2026-01-17T20:34:18.144483-08:00","close_reason":"False positive - .env loading IS implemented via dotenvy::dotenv().ok() at main.rs:988. Help text correctly documents the feature."}
{"id":"curator-2di","title":"Consolidate mutex state in InteractiveReporter","description":"**Location:** crates/curator_cli/src/progress.rs\n\n**Issue:** The `InteractiveReporter` uses 5 separate `Mutex` locks:\n- `fetch_bars: Mutex\u003cHashMap\u003c...\u003e\u003e`\n- `star_bar: Mutex\u003cOption\u003cProgressBar\u003e\u003e`\n- `star_total: Mutex\u003cusize\u003e`\n- `save_bar: Mutex\u003cOption\u003cProgressBar\u003e\u003e`\n- `save_total: Mutex\u003cusize\u003e`\n- `filter_complete: Mutex\u003cbool\u003e`\n\nThese are frequently accessed together, which could cause lock ordering issues or performance problems under high concurrency.\n\n**Suggestion:** Combine related state into a single `Mutex\u003cProgressState\u003e`:\n```rust\nstruct ProgressState {\n    fetch_bars: HashMap\u003cString, FetchState\u003e,\n    star_bar: Option\u003cProgressBar\u003e,\n    star_total: usize,\n    save_bar: Option\u003cProgressBar\u003e,\n    save_total: usize,\n    filter_complete: bool,\n}\n\npub struct InteractiveReporter {\n    multi: MultiProgress,\n    state: Mutex\u003cProgressState\u003e,\n}\n```\n\nThis simplifies locking and ensures consistent state updates.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:17:01.989754-08:00","created_by":"george","updated_at":"2026-01-11T15:47:58.264571-08:00","closed_at":"2026-01-11T15:47:58.264571-08:00","close_reason":"Consolidated 6 separate Mutex fields into single ProgressState struct in InteractiveReporter"}
{"id":"curator-2jt","title":"Optimize Governor GCRA usage for GitHub rate limiting","description":"## Summary\n\nThe current implementation uses Governor's GCRA (Generic Cell Rate Algorithm) for rate limiting, which is the correct choice. However, several Governor features are underutilized that could improve behavior against GitHub's API rate limits.\n\n## Current State\n\n- Uses `RateLimiter::direct(Quota::per_second(10))` for all operations\n- No burst configuration (implicit burst = 1)\n- Single rate limiter for both read and write operations\n- No jitter when multiple concurrent tasks compete\n\n## Recommended Improvements\n\n### 1. Configure Burst Tolerance\nGitHub allows bursts - configure Governor to match:\n```rust\nlet quota = Quota::per_second(nonzero!(10u32))\n    .allow_burst(nonzero!(20u32));\n```\n\n### 2. Separate Read/Write Limiters\nWrite operations (starring) trigger secondary rate limits more easily:\n```rust\npub struct GitHubRateLimiter {\n    read: Arc\u003cGovernorRateLimiter\u003e,   // 10 req/sec, burst 20\n    write: Arc\u003cGovernorRateLimiter\u003e,  // 3 req/sec, burst 5\n}\n```\n\n### 3. Add Jitter for Concurrent Operations\nPrevent thundering herd when multiple tasks hit the limiter:\n```rust\nlet jitter = Jitter::up_to(Duration::from_millis(50));\nself.inner.until_ready_with_jitter(jitter).await;\n```\n\n### 4. Consider Keyed Limiter for Per-Endpoint Limits\nDifferent endpoints may have different rate limit characteristics.\n\n## Files to Modify\n\n- `crates/curator/src/platform.rs` - ApiRateLimiter implementation\n- `crates/curator/src/sync/engine.rs` - Rate limiter usage in sync operations\n\n## References\n\n- Governor docs: https://docs.rs/governor/latest/governor/\n- GCRA algorithm: https://en.wikipedia.org/wiki/Generic_cell_rate_algorithm\n- GitHub rate limits: https://docs.github.com/en/rest/rate-limit","status":"open","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-15T21:22:27.405757-08:00","created_by":"gkze","updated_at":"2026-01-15T21:22:46.7779-08:00"}
{"id":"curator-2ng","title":"CI: reduce feature matrix on PRs","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T15:51:08.101271-08:00","created_by":"gkze","updated_at":"2026-01-18T15:51:08.101271-08:00"}
{"id":"curator-2sb","title":"Implement GitHub API client","description":"Create GitHub API client to fetch repository data. Map API response fields to Repository entity per field mapping table. Handle rate limiting (5000/hr authenticated).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:27:19.567761-08:00","created_by":"george","updated_at":"2026-01-11T10:26:16.470931-08:00","closed_at":"2026-01-11T10:26:16.470931-08:00","close_reason":"Implemented GitHub API client with Octocrab. Features: list_org_repos (paginated), filter_by_activity, star_repo, is_repo_starred, rate limit checking, to_code_repository mapping. CLI command: curator github sync-org \u003corg\u003e with --active-within-days, --no-star, --dry-run options."}
{"id":"curator-2wb","title":"Add Sourcehut (sr.ht) platform support","description":"## Summary\n\nAdd support for syncing repositories from Sourcehut (sr.ht), a minimalist code hosting platform.\n\n## API Characteristics\n\n- **API Type**: GraphQL (unlike REST for GitHub/GitLab/Gitea)\n- **Endpoint**: `https://git.sr.ht/query`\n- **Auth**: OAuth 2.0 Bearer tokens or personal access tokens\n- **Rate Limiting**: Complexity-based (~200 per query) + 3-second timeout\n\n## Key Differences from Other Platforms\n\n| Feature | Sourcehut | Other Platforms |\n|---------|-----------|-----------------|\n| Stars/Favorites | **Not supported** | Supported |\n| Fork count | Not exposed | Supported |\n| Topics/Tags | None | Supported |\n| Language detection | Not built-in | Supported |\n| Organizations | No orgs (users only with `~username`) | Supported |\n\n## Implementation Tasks\n\n1. Add `Sourcehut` variant to `CodePlatform` enum\n2. Create `crates/curator/src/sourcehut/` module:\n   - `mod.rs` - Public API\n   - `client.rs` - SourcehutClient implementing PlatformClient\n   - `types.rs` - GraphQL response types\n   - `graphql.rs` - Query strings\n   - `convert.rs` - Conversion to PlatformRepo\n   - `error.rs` - Error handling\n3. Implement PlatformClient trait (partial - starring not available)\n4. Add CLI integration\n5. Write tests\n\n## Design Decisions Needed\n\n1. **Starring**: Return error/empty, skip from star ops, or local-only tracking?\n2. **Rate Limiting**: Adapt existing ApiRateLimiter for complexity-based limits?\n3. **GraphQL Library**: Raw reqwest+serde vs graphql_client vs cynic?\n\n## Effort Estimate\n\n~17-22 hours (~2-3 days)\n\n## References\n\n- [Sourcehut GraphQL conventions](https://man.sr.ht/graphql.md)\n- [git.sr.ht API docs](https://docs.sourcehut.org/git.sr.ht)","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T02:51:03.913822-08:00","created_by":"gkze","updated_at":"2026-01-18T02:51:16.62752-08:00"}
{"id":"curator-387","title":"Implement incremental sync strategy","description":"Use updated_at/pushed_at to detect changes. Only fetch and update repos that have changed since last synced_at.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:27:29.274655-08:00","created_by":"george","updated_at":"2026-01-10T19:27:29.274655-08:00","dependencies":[{"issue_id":"curator-387","depends_on_id":"curator-9v7","type":"blocks","created_at":"2026-01-10T19:27:41.743299-08:00","created_by":"george"}]}
{"id":"curator-38u","title":"Extract shared sync types to new sync/ module","description":"Create new sync/ module with unified types extracted from both GitHub and GitLab platforms.\n\n**Create:**\n- crates/curator/src/sync/mod.rs\n- crates/curator/src/sync/types.rs - SyncResult, SyncOptions, constants\n- crates/curator/src/sync/progress.rs - SyncProgress, ProgressCallback, emit()\n\n**Modify:**\n- crates/curator/src/lib.rs - Export sync module\n- crates/curator/src/github/types.rs - Re-export from sync (backward compat)\n- crates/curator/src/gitlab/types.rs - Re-export from sync (backward compat)\n\n**Effort:** 2-3 hours\n**Risk:** Low","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:36:53.852561-08:00","created_by":"george","updated_at":"2026-01-11T16:40:50.776062-08:00","closed_at":"2026-01-11T16:40:50.776062-08:00","close_reason":"Created sync/ module with shared types (SyncResult, SyncOptions, SyncProgress, constants). GitHub and GitLab types.rs now re-export from sync module. All tests pass."}
{"id":"curator-3e8","title":"Add Repology packaging status badge to README","description":"Add Repology packaging status badge to README.md once curator is packaged in distribution repositories.\n\nBadge format:\n```markdown\n[![Packaging status](https://repology.org/badge/tiny-repos/curator.svg)](https://repology.org/project/curator/versions)\n```\n\nThis is common for CLI tools (used by ripgrep, bat, eza) to show availability across package managers.\n\nBlocked until curator is packaged in at least one distribution.","status":"open","priority":4,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-16T16:22:31.459918-08:00","created_by":"gkze","updated_at":"2026-01-16T16:22:31.459918-08:00"}
{"id":"curator-3gz","title":"GitLab: Missing metadata in conversion (language, license, size)","description":"GitLab conversion sets primary_language, license, and size to None/0 even though the GitLab API provides this data. The to_platform_repo() and to_code_repository() functions in gitlab/convert.rs need updating to extract these fields from the GitLab API response.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-14T15:29:43.092904-08:00","created_by":"gkze","updated_at":"2026-01-27T15:47:45.444779-08:00","closed_at":"2026-01-27T15:47:45.444779-08:00","close_reason":"Duplicate of curator-8fb which has more detailed analysis of the missing fields and API requirements"}
{"id":"curator-3ko","title":"Add Internal variant to CodeVisibility enum","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:01:19.552042-08:00","created_by":"george","updated_at":"2026-01-11T18:08:39.221302-08:00","closed_at":"2026-01-11T18:08:39.221302-08:00","close_reason":"Internal visibility already existed in CodeVisibility. Updated PlatformRepo to use CodeVisibility directly instead of is_private bool, preserving Internal visibility through round-trips."}
{"id":"curator-3le","title":"Add CLI login command with browser/clipboard support","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T23:23:10.20427-08:00","created_by":"gkze","updated_at":"2026-01-17T23:40:55.776895-08:00","closed_at":"2026-01-17T23:40:55.776895-08:00","close_reason":"Implemented 'curator github login' command with browser open, clipboard copy, and token saving to config.toml","dependencies":[{"issue_id":"curator-3le","depends_on_id":"curator-9yz","type":"blocks","created_at":"2026-01-17T23:23:47.489175-08:00","created_by":"gkze"}]}
{"id":"curator-3mh","title":"Consolidate migration crate into curator","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-11T10:08:33.328618-08:00","created_by":"george","updated_at":"2026-01-11T10:08:37.729716-08:00","closed_at":"2026-01-11T10:08:37.729716-08:00","close_reason":"Moved migrations into curator/src/migration/ behind 'migrate' feature flag. Added connect_and_migrate() convenience function. Removed standalone migration crate."}
{"id":"curator-3p0","title":"Add cargo-audit advisory checks in CI","description":"Add cargo-audit to CI to detect Rust security advisories early and prevent vulnerable dependencies from landing in main.","acceptance_criteria":"- CI runs `cargo audit` on PRs and main\n- Pipeline fails on advisories unless explicitly ignored\n- Ignore/allowlist mechanism (advisory list/config) is documented in-repo","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T03:20:56.86779-08:00","created_by":"gkze","updated_at":"2026-01-18T03:27:05.213711-08:00"}
{"id":"curator-3p4","title":"Split SyncResult.saved into queued vs persisted metrics","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:52.204706-08:00","created_by":"gkze","updated_at":"2026-01-17T20:27:52.204706-08:00"}
{"id":"curator-46o","title":"Use emit() helper consistently for progress callbacks","description":"The emit() helper in sync/progress.rs exists but isn't used consistently. ~50 scattered instances of 'if let Some(cb) = on_progress { cb(...) }' should use emit() instead.","status":"closed","priority":3,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-25T15:20:05.847362-08:00","created_by":"gkze","updated_at":"2026-01-25T16:04:43.490562-08:00","closed_at":"2026-01-25T16:04:43.490562-08:00","close_reason":"Completed emit() conversion across all platform clients (65 total instances)"}
{"id":"curator-4ch","title":"Register GitHub OAuth App and obtain Client ID","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T23:23:08.665669-08:00","created_by":"gkze","updated_at":"2026-01-17T23:31:02.232506-08:00","closed_at":"2026-01-17T23:31:02.232506-08:00","close_reason":"OAuth App registered. Client ID: Ov23liN0721EfoUpRrLl"}
{"id":"curator-4do","title":"GitLab/Gitea: Org info missing repository count","description":"When fetching organization/group info, GitHub returns the repository count but GitLab and Gitea do not include this in their OrgInfo response. Consider querying this separately or documenting the limitation.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-14T15:29:43.252484-08:00","created_by":"gkze","updated_at":"2026-01-14T15:29:43.252484-08:00"}
{"id":"curator-4f4","title":"Standardize on ApiRateLimiter, deprecate RateLimitedClient","status":"open","priority":3,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T16:02:57.861659-08:00","created_by":"gkze","updated_at":"2026-01-23T16:02:57.861659-08:00"}
{"id":"curator-4p1","title":"Add configuration file support (TOML/YAML)","description":"**Observation:** All configuration is via environment variables and CLI flags only.\n\n**Suggestion:** Consider adding a config file for:\n- Default sync options (active_within_days, concurrency, etc.)\n- Multiple GitHub tokens (for rate limit pooling)\n- Platform-specific settings\n- Persistent preferences\n\nCould use `config` crate with layered config: defaults → config file → env vars → CLI flags.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-11T15:16:52.404077-08:00","created_by":"george","updated_at":"2026-01-11T15:50:01.64184-08:00","closed_at":"2026-01-11T15:50:01.64184-08:00","close_reason":"Added TOML config file support with layered config: defaults → config file → env vars → CLI flags"}
{"id":"curator-4vv","title":"Implement concurrent page fetching","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:00:44.59187-08:00","created_by":"george","updated_at":"2026-01-11T14:08:09.687446-08:00","closed_at":"2026-01-11T14:08:09.687446-08:00","close_reason":"Implementation complete and tested"}
{"id":"curator-5d2","title":"Review feature/cfg macro usage for cleanup","description":"Audit feature flags and cfg usage across crates to identify unused, redundant, or overly granular conditionals and cleanup opportunities.","acceptance_criteria":"Document all feature/cfg usages with purpose; remove or simplify unused/redundant flags or file follow-up issues; project builds/tests pass after cleanup.","notes":"Focus on feature flag ergonomics and conditional module boundaries.","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T15:03:55.643772-08:00","created_by":"gkze","updated_at":"2026-01-19T11:39:33.697615-08:00"}
{"id":"curator-5gw","title":"Add architecture documentation","description":"Document the architecture decisions and design patterns used in the codebase.\n\nShould cover:\n- PlatformClient trait design and rationale\n- Sync engine streaming approach\n- Database schema design\n- Rate limiting strategy\n- ETag caching architecture\n- Error handling patterns\n\nCould be a dedicated ARCHITECTURE.md or a docs/ directory.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-14T22:20:59.096764-08:00","created_by":"gkze","updated_at":"2026-01-14T22:20:59.096764-08:00","dependencies":[{"issue_id":"curator-5gw","depends_on_id":"curator-cw7","type":"relates-to","created_at":"2026-01-14T22:21:45.311107-08:00","created_by":"gkze"}]}
{"id":"curator-5hl","title":"Simplify sync function signatures with SyncContext builder","status":"closed","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T16:02:56.416591-08:00","created_by":"gkze","updated_at":"2026-01-25T14:35:54.530869-08:00","closed_at":"2026-01-25T14:35:54.530869-08:00","close_reason":"Implemented in commit 14dae8a"}
{"id":"curator-5wj","title":"Fix duplicate emit() calls in sync/engine.rs","description":"Lines 69-83 in sync/engine.rs emit FilteredPage twice in a row with identical values. This is a bug - remove the duplicate call.","status":"closed","priority":1,"issue_type":"bug","owner":"george.kontridze@gmail.com","created_at":"2026-01-25T15:20:10.099445-08:00","created_by":"gkze","updated_at":"2026-01-25T15:38:08.601469-08:00","closed_at":"2026-01-25T15:38:08.601469-08:00","close_reason":"Fixed in commit 695b764"}
{"id":"curator-61n","title":"Set up SeaORM workspace structure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:49:56.912533-08:00","created_by":"george","updated_at":"2026-01-10T17:51:31.073382-08:00","closed_at":"2026-01-10T17:51:31.073382-08:00","close_reason":"Created entity and migration crates, added to workspace members"}
{"id":"curator-65z","title":"Fix bulk upsert ON CONFLICT key mismatch between production and test","description":"In crates/curator/src/repository/bulk.rs:215-257, the production bulk_upsert_inner uses ON CONFLICT (Platform, PlatformId) as conflict keys. However, the test test_bulk_upsert_query_builds in crates/curator/src/repository.rs:256-294 uses (Platform, Owner, Name) as conflict keys. This means the test is not exercising the actual conflict resolution path and may be masking bugs. The OnConflict column list (~25 columns) is also duplicated between the two locations.","status":"closed","priority":1,"issue_type":"bug","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T16:21:49.628573-08:00","created_by":"gkze","updated_at":"2026-01-27T16:34:51.461822-08:00","closed_at":"2026-01-27T16:34:51.461822-08:00","close_reason":"Fixed: extracted build_upsert_on_conflict() shared function, aligned test with production (Platform, PlatformId) conflict keys, also fixed 7 collapsible_if clippy lints in gitlab/client.rs"}
{"id":"curator-66a","title":"Extract SyncRunner to eliminate CLI command handler duplication","description":"CLI command handlers in github.rs, gitlab.rs, and gitea.rs have ~1,500 lines of duplicated code for persist task setup, sync execution, result aggregation, and output formatting. Create a generic SyncRunner that handles the common flow.","status":"closed","priority":1,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-25T15:20:02.996649-08:00","created_by":"gkze","updated_at":"2026-01-25T15:38:08.602958-08:00","closed_at":"2026-01-25T15:38:08.602958-08:00","close_reason":"Fixed in commit 695b764"}
{"id":"curator-6ga","title":"Create Platform enum for type-safe platform handling","description":"Define Platform enum (GitHub, GitLab, Codeberg) using DeriveActiveEnum for compile-time safety instead of raw strings","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:50:15.153118-08:00","created_by":"george","updated_at":"2026-01-10T17:54:29.181262-08:00","closed_at":"2026-01-10T17:54:29.181262-08:00","close_reason":"Created Platform and Visibility enums with DeriveActiveEnum","dependencies":[{"issue_id":"curator-6ga","depends_on_id":"curator-9w3","type":"blocks","created_at":"2026-01-10T17:50:21.486603-08:00","created_by":"george"}]}
{"id":"curator-6kc","title":"Add timeout-based integration tests to catch sync hangs","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-25T14:39:05.2275-08:00","created_by":"gkze","updated_at":"2026-01-25T14:43:21.896938-08:00","closed_at":"2026-01-25T14:43:21.896938-08:00","close_reason":"Added timeout-based integration tests in cb487fc"}
{"id":"curator-6o1","title":"CI: conditional checkout depth for test-features","status":"open","priority":3,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T15:51:08.016941-08:00","created_by":"gkze","updated_at":"2026-01-18T15:51:08.016941-08:00"}
{"id":"curator-6oh","title":"Recreate initial migration with Internal visibility support","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:01:19.688116-08:00","created_by":"george","updated_at":"2026-01-11T18:08:39.41719-08:00","closed_at":"2026-01-11T18:08:39.41719-08:00","close_reason":"Migration already supported Internal visibility. No changes needed.","dependencies":[{"issue_id":"curator-6oh","depends_on_id":"curator-3ko","type":"blocks","created_at":"2026-01-11T18:01:30.377598-08:00","created_by":"george"}]}
{"id":"curator-6pj","title":"Consolidate shared platform types: FetchResult, CacheStats, get_conditional, error patterns","description":"~140 lines of duplication across platform implementations: (1) FetchResult\u003cT\u003e defined in both github/client.rs:104-114 and gitlab/client.rs:32-41, (2) CacheStats defined in both github/client.rs:567-590 and gitlab/client.rs:44-57, (3) get_conditional() (~80 lines each in github/client.rs:264-321 and gitlab/client.rs:133-186), (4) near-identical error enums and From impls across all 3 platform error.rs files, (5) cache-hit fallback pattern repeated 5 times. Move shared types to crate::platform, extract get_conditional into a shared utility, and consider a macro for error enum definitions.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T16:21:45.419271-08:00","created_by":"gkze","updated_at":"2026-01-28T16:09:58.05932-08:00","closed_at":"2026-01-28T16:09:58.05932-08:00","close_reason":"Consolidated FetchResult\u003cT\u003e, CacheStats, and PaginationInfo into crate::platform::conditional. Removed ~68 lines of duplication. get_conditional() remains platform-specific but now uses shared types. Error enum consolidation deferred to future work."}
{"id":"curator-6s0","title":"Audit follow-ups: modularity \u0026 contributor readiness","description":"Parent tracking task for modularity refactors and contributor readiness follow-ups; ensure child tasks are defined, scoped, and sequenced.","acceptance_criteria":"All modularity/contributor-readiness follow-ups have scoped child issues with acceptance criteria and dependencies; outstanding work tracked and prioritized.","notes":"Use as umbrella for refactor/contributor-readiness backlog.","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-19T08:57:23.702093-08:00","created_by":"gkze","updated_at":"2026-01-19T11:39:42.093718-08:00"}
{"id":"curator-7a9v","title":"Add 'curator codeberg login' CLI command","description":"Wire up the Gitea OAuth PKCE module to the CLI:\n1. Update CodebergConfig struct to add refresh_token and token_expires_at fields\n2. Add save_codeberg_oauth_tokens method to config.rs\n3. Add codeberg_token_expires_at() and codeberg_refresh_token() accessor methods\n4. Add Login variant to CodebergAction in main.rs\n5. Add login handler in commands/gitea.rs that uses the oauth::authorize function","status":"closed","priority":1,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T22:15:59.359368-08:00","created_by":"gkze","updated_at":"2026-01-28T22:26:47.223675-08:00","closed_at":"2026-01-28T22:26:47.223675-08:00","close_reason":"Implemented in commit 222fa33"}
{"id":"curator-7cp","title":"Add config methods for Gitea/Codeberg OAuth tokens","description":"Add to crates/curator_cli/src/config.rs:\n- save_codeberg_oauth_tokens(access_token, refresh_token, expires_at)\n- save_gitea_oauth_tokens(host, access_token, refresh_token, expires_at)\n- Update CodebergConfig and GiteaConfig structs with refresh_token and token_expires_at fields\n- For Gitea, also add client_id field for self-hosted instances","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:21.0894-08:00","created_by":"gkze","updated_at":"2026-01-28T22:26:47.230384-08:00","closed_at":"2026-01-28T22:26:47.230384-08:00","close_reason":"Implemented in commit 222fa33","dependencies":[{"issue_id":"curator-7cp","depends_on_id":"curator-k38","type":"blocks","created_at":"2026-01-28T17:57:33.171049-08:00","created_by":"gkze"}]}
{"id":"curator-7gb","title":"Rename migrations table to curator_migrations","status":"closed","priority":3,"issue_type":"chore","created_at":"2026-01-11T10:08:51.80484-08:00","created_by":"george","updated_at":"2026-01-11T10:08:55.867378-08:00","closed_at":"2026-01-11T10:08:55.867378-08:00","close_reason":"Overrode migration_table_name() in Migrator to use curator_migrations instead of default seaql_migrations."}
{"id":"curator-7kw","title":"Add graceful shutdown handling","description":"**Location:** crates/curator_cli/src/main.rs\n\n**Issue:** If the user presses Ctrl+C during a sync, there's no cleanup. The persist task and any in-flight API calls will be abruptly terminated, potentially leaving incomplete data.\n\n**Suggestion:** Add tokio signal handling:\n```rust\ntokio::select! {\n    result = sync_operation =\u003e { ... }\n    _ = tokio::signal::ctrl_c() =\u003e {\n        // Graceful shutdown:\n        // 1. Stop accepting new work\n        // 2. Close model channel\n        // 3. Wait for persist task to flush remaining batch\n        // 4. Report partial results\n    }\n}\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:16:52.595238-08:00","created_by":"george","updated_at":"2026-01-11T15:36:09.060213-08:00","closed_at":"2026-01-11T15:36:09.060213-08:00","close_reason":"Added graceful shutdown: global SHUTDOWN_REQUESTED flag, Ctrl+C handler (first=graceful, second=force), persist task drains pending models on shutdown, user feedback showing partial results"}
{"id":"curator-7qq","title":"Add force-update option for bulk_upsert to bypass updated_at guard","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:53.169505-08:00","created_by":"gkze","updated_at":"2026-01-17T20:27:53.169505-08:00"}
{"id":"curator-7r1","title":"Modularize curator/src/platform.rs (split errors/types/rate_limit/convert)","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T00:34:31.411834-08:00","created_by":"gkze","updated_at":"2026-01-19T09:51:46.322352-08:00","closed_at":"2026-01-19T09:51:46.322352-08:00","close_reason":"split platform module into errors/types/rate_limit/convert submodules"}
{"id":"curator-7s2","title":"Set up Linux CI/testing environment with Wild linker","description":"Stash: 809020f8ea95d1298d3c4704f2581d32a59ae73c (Build optimizations: dev profile, Linux linker config)\n\nFiles stashed:\n- .cargo/config.toml - Linux linker config for Wild\n- Cargo.toml - Dev profile optimizations (split-debuginfo, debug=0)\n- flake.nix - Linux clang support for linker driver","status":"open","priority":3,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T01:28:54.981303-08:00","created_by":"gkze","updated_at":"2026-01-18T02:39:32.116656-08:00"}
{"id":"curator-7x6","title":"Separate progress bars for fetch/star/save operations","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T14:57:22.123296-08:00","created_by":"george","updated_at":"2026-01-11T15:00:44.79242-08:00","closed_at":"2026-01-11T15:00:44.79242-08:00","close_reason":"Implemented separate progress bars for fetch/star/save operations"}
{"id":"curator-8dc","title":"Implement visibility normalization","description":"Normalize visibility across platforms: GitHub/Codeberg private bool -\u003e public/private, GitLab visibility string -\u003e public/internal/private","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:27:29.028766-08:00","created_by":"george","updated_at":"2026-01-13T14:52:52.48169-08:00","closed_at":"2026-01-13T14:52:52.48169-08:00","close_reason":"CodeVisibility enum implemented in entity/code_visibility.rs with Public/Private/Internal variants. All platform convert.rs files map to this normalized enum.","dependencies":[{"issue_id":"curator-8dc","depends_on_id":"curator-2sb","type":"blocks","created_at":"2026-01-10T19:27:41.031891-08:00","created_by":"george"},{"issue_id":"curator-8dc","depends_on_id":"curator-rjy","type":"blocks","created_at":"2026-01-10T19:27:41.129366-08:00","created_by":"george"},{"issue_id":"curator-8dc","depends_on_id":"curator-l4f","type":"blocks","created_at":"2026-01-10T19:27:41.236993-08:00","created_by":"george"}]}
{"id":"curator-8er","title":"Centralize retry constants in sync/types.rs","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T18:01:20.511541-08:00","created_by":"george","updated_at":"2026-01-11T18:12:23.793602-08:00","closed_at":"2026-01-11T18:12:23.793602-08:00","close_reason":"Constants were already centralized in sync/types.rs. Cleaned up unused re-exports from platform type modules as part of curator-c00 work.","dependencies":[{"issue_id":"curator-8er","depends_on_id":"curator-c00","type":"blocks","created_at":"2026-01-11T18:01:31.275091-08:00","created_by":"george"}]}
{"id":"curator-8f8","title":"Add database integration tests","description":"Add integration tests for database operations using SQLite in-memory database.\n\nShould cover:\n- repository::bulk_upsert()\n- repository::find_stale()\n- API cache read/write operations\n- Migration execution\n\nUse sea-orm mock features or SQLite in-memory for fast test execution.\n\nThis is a sub-task of curator-ar9 (Improve test coverage).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-14T22:20:39.508078-08:00","created_by":"gkze","updated_at":"2026-01-14T22:20:39.508078-08:00","dependencies":[{"issue_id":"curator-8f8","depends_on_id":"curator-ar9","type":"blocks","created_at":"2026-01-14T22:21:39.19663-08:00","created_by":"gkze"}]}
{"id":"curator-8fb","title":"GitLab: Populate missing PlatformRepo fields (language, pushed_at, license, homepage, size_kb)","description":"Five PlatformRepo fields are always None in GitLab conversions (convert.rs):\n- language: GitLab doesn't return in list endpoints; would need GET /projects/:id/languages\n- pushed_at: GitLab uses last_activity_at instead; no direct equivalent\n- license: Not in list response; would need GET /projects/:id with license=true\n- homepage: GitLab projects don't have a separate homepage field\n- size_kb: Would need statistics=true parameter on project fetch (expensive)\n\nMost require extra API calls per project, so consider cost/benefit. language and license are the most useful.","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T15:17:31.885895-08:00","created_by":"gkze","updated_at":"2026-01-27T15:17:39.647489-08:00"}
{"id":"curator-8h8","title":"GitHub OAuth Device Flow for simplified onboarding","status":"closed","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T23:23:02.48508-08:00","created_by":"gkze","updated_at":"2026-01-17T23:41:01.19421-08:00","closed_at":"2026-01-17T23:41:01.19421-08:00","close_reason":"GitHub OAuth Device Flow implemented: oauth.rs module + 'curator github login' CLI command. Keychain storage deferred to curator-gec."}
{"id":"curator-8tlp","title":"Implement instance-based platform model (Option A)","notes":"Phase 1 COMPLETE (committed f1b2044):\n- Instance-based data model implemented\n- All tests passing (248 unit + 19 integration)\n\nPhase 2 TODO: CLI Restructure\n- Instance management commands (add/list/remove/show)\n- Unified login command with auto-create for well-known instances\n- Unified sync command (org/user/stars)\n- Updated limits command\n- Delete legacy platform-specific commands","status":"closed","priority":1,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T22:49:24.804327-08:00","created_by":"gkze","updated_at":"2026-01-29T09:42:52.925548-08:00","closed_at":"2026-01-29T09:42:52.925548-08:00","close_reason":"Instance-based platform model fully implemented (commit b6eecfa)"}
{"id":"curator-923","title":"GitLab: is_repo_starred() always returns false","description":"The GitLab client's is_repo_starred() method always returns Ok(false) because the GitLab API doesn't support checking if a specific project is starred without fetching all starred projects. Consider fetching starred projects once and caching, or document the limitation.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T15:29:42.296411-08:00","created_by":"gkze","updated_at":"2026-01-17T00:38:31.348891-08:00","closed_at":"2026-01-17T00:38:31.348891-08:00","close_reason":"Closed"}
{"id":"curator-97x","title":"GitLab/Gitea: Implement real rate limit checking","description":"Currently GitLab returns hardcoded 2000/min and Gitea returns hardcoded 1000/min rate limits. GitLab has rate limit headers that could be queried. Gitea/Forgejo limits vary by instance. Consider making these configurable or querying actual limits from API responses.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-14T15:29:42.487894-08:00","created_by":"gkze","updated_at":"2026-01-14T15:29:42.487894-08:00","dependencies":[{"issue_id":"curator-97x","depends_on_id":"curator-cox","type":"relates-to","created_at":"2026-01-14T22:21:51.146663-08:00","created_by":"gkze"},{"issue_id":"curator-97x","depends_on_id":"curator-vvy","type":"relates-to","created_at":"2026-01-14T22:21:51.30353-08:00","created_by":"gkze"}]}
{"id":"curator-9ef","title":"Surface partial failures better in CLI with error summary","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:54.799552-08:00","created_by":"gkze","updated_at":"2026-01-17T20:27:54.799552-08:00"}
{"id":"curator-9fa","title":"Modularize repository operations module (split bulk ops, queries, errors)","description":"Split repository.rs into submodules for errors, single-record ops, bulk ops, and query/pagination helpers to improve maintainability.","acceptance_criteria":"Split crates/curator/src/repository.rs into submodules for errors, single-record ops, bulk ops, and query/pagination, while preserving the public API via re-exports.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-19T08:52:11.967456-08:00","created_by":"gkze","updated_at":"2026-01-19T09:42:20.603793-08:00","closed_at":"2026-01-19T09:42:20.603793-08:00","close_reason":"modularized repository module into submodules","dependencies":[{"issue_id":"curator-9fa","depends_on_id":"curator-6s0","type":"parent-child","created_at":"2026-01-19T08:57:29.382795-08:00","created_by":"gkze"}]}
{"id":"curator-9jl","title":"Refactor CLI to use unified platform abstraction","description":"Unify the duplicated persistence tasks and simplify command handling.\n\n**Modify:**\n- crates/curator_cli/src/main.rs\n- crates/curator_cli/src/progress.rs\n\n**Key changes:**\n1. Single spawn_persist_task() - eliminate GitHub/GitLab duplication (~150 LOC saved)\n2. Unified ProgressReporter using shared SyncProgress directly\n3. Remove GitLab → GitHub event mapping\n4. Shared sync logic called by both commands\n\n**Effort:** 3-4 hours\n**Risk:** Medium","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:37:18.948612-08:00","created_by":"george","updated_at":"2026-01-13T14:52:48.533492-08:00","closed_at":"2026-01-13T14:52:48.533492-08:00","close_reason":"CLI now uses unified spawn_persist_task() and shared ProgressReporter. All platform handlers use sync_namespace_streaming/sync_user_streaming from unified sync engine.","dependencies":[{"issue_id":"curator-9jl","depends_on_id":"curator-iqq","type":"blocks","created_at":"2026-01-11T16:37:36.935031-08:00","created_by":"george"}]}
{"id":"curator-9l9","title":"Consolidate CommonSyncOptions and StarredSyncOptions","description":"CommonSyncOptions and StarredSyncOptions in main.rs share 4 of 5 fields. Consolidate into a single struct with an enum or optional fields for star vs prune mode.","status":"open","priority":3,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-25T15:20:08.676214-08:00","created_by":"gkze","updated_at":"2026-01-25T15:20:08.676214-08:00"}
{"id":"curator-9tt","title":"Add PlatformRepo::to_active_model() to consolidate conversion logic","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:01:20.036252-08:00","created_by":"george","updated_at":"2026-01-11T18:14:16.454069-08:00","closed_at":"2026-01-11T18:14:16.454069-08:00","close_reason":"Added PlatformRepo::to_active_model(platform) method to platform.rs. Updated all platform clients to use this shared method instead of their own platform_repo_to_active_model() functions. The method extracts optional fields from metadata JSON for platform-specific data."}
{"id":"curator-9v7","title":"Implement initial sync strategy","description":"Fetch full repository data from each platform, populate all fields in Repository entity. Handle batch fetching for user's repos.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:27:29.146787-08:00","created_by":"george","updated_at":"2026-01-13T14:53:55.257053-08:00","closed_at":"2026-01-13T14:53:55.257053-08:00","close_reason":"Initial sync implemented in sync/engine.rs with sync_namespace_streaming and sync_user_streaming. Fetches all repo data, filters by activity, stars, and persists to database with synced_at timestamp.","dependencies":[{"issue_id":"curator-9v7","depends_on_id":"curator-bjw","type":"blocks","created_at":"2026-01-10T19:27:41.338728-08:00","created_by":"george"},{"issue_id":"curator-9v7","depends_on_id":"curator-2sb","type":"blocks","created_at":"2026-01-10T19:27:41.437881-08:00","created_by":"george"},{"issue_id":"curator-9v7","depends_on_id":"curator-rjy","type":"blocks","created_at":"2026-01-10T19:27:41.544616-08:00","created_by":"george"},{"issue_id":"curator-9v7","depends_on_id":"curator-l4f","type":"blocks","created_at":"2026-01-10T19:27:41.638622-08:00","created_by":"george"}]}
{"id":"curator-9w3","title":"Add SeaORM dependencies to workspace","description":"Add sea-orm, sea-orm-migration, uuid, chrono, serde_json, tokio dependencies to entity, migration, and curator crates","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:50:14.89454-08:00","created_by":"george","updated_at":"2026-01-10T17:52:42.001894-08:00","closed_at":"2026-01-10T17:52:42.001894-08:00","close_reason":"Added sea-orm, sea-orm-migration, uuid, chrono, serde_json, tokio, clap dependencies","dependencies":[{"issue_id":"curator-9w3","depends_on_id":"curator-61n","type":"blocks","created_at":"2026-01-10T17:50:21.319803-08:00","created_by":"george"}]}
{"id":"curator-9yz","title":"Implement GitHub OAuth device flow module","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T23:23:09.433356-08:00","created_by":"gkze","updated_at":"2026-01-17T23:33:17.382161-08:00","closed_at":"2026-01-17T23:33:17.382161-08:00","close_reason":"Implemented OAuth device flow module with request_device_code(), poll_for_token(), and supporting types","dependencies":[{"issue_id":"curator-9yz","depends_on_id":"curator-4ch","type":"blocks","created_at":"2026-01-17T23:23:47.399317-08:00","created_by":"gkze"}]}
{"id":"curator-add","title":"Add custom error type for repository module","description":"**Location:** crates/curator/src/repository.rs\n\n**Issue:** All functions return `Result\u003cT, DbErr\u003e` directly. Database errors lose context about what operation failed.\n\n**Suggestion:** Define a `RepositoryError` type:\n```rust\n#[derive(Debug, Error)]\npub enum RepositoryError {\n    #[error(\"Failed to insert repository {owner}/{name}: {source}\")]\n    Insert { owner: String, name: String, source: DbErr },\n    \n    #[error(\"Repository not found: {id}\")]\n    NotFound { id: Uuid },\n    \n    #[error(\"Database error: {0}\")]\n    Database(#[from] DbErr),\n}\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:16:33.308348-08:00","created_by":"george","updated_at":"2026-01-11T15:39:15.301762-08:00","closed_at":"2026-01-11T15:39:15.301762-08:00","close_reason":"Added RepositoryError enum with variants: Database, NotFound, Duplicate, InvalidInput, PartialFailure. Converted all repository module functions to use custom Result type. Added helper constructors for NotFound errors. Added 8 unit tests."}
{"id":"curator-af2","title":"Extract duplicated starring logic from sync functions","description":"**Location:** crates/curator/src/github.rs:607-876 and 877-1050\n\n**Issue:** Both `sync_org()` and `sync_org_streaming()` contain nearly identical starring loops (~80 lines each). The only difference is how models are handled (batch vs streaming).\n\n**Suggestion:** Extract starring into a separate function:\n```rust\nasync fn star_repos_concurrently(\n    client: \u0026Octocrab,\n    repos: \u0026[(String, String)],  // (owner, name) pairs\n    options: \u0026SyncOrgOptions,\n    on_progress: Option\u003c\u0026ProgressCallback\u003e,\n) -\u003e StarringResult { ... }\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:16:12.964031-08:00","created_by":"george","updated_at":"2026-01-11T15:24:05.888838-08:00","closed_at":"2026-01-11T15:24:05.888838-08:00","close_reason":"Extracted star_repos_batch() function to eliminate ~150 lines of duplicated starring logic from sync_org and sync_org_streaming"}
{"id":"curator-ain","title":"CI: add cargo/sccache caching for feature matrix","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T03:31:22.531782-08:00","created_by":"gkze","updated_at":"2026-01-18T03:31:22.531782-08:00"}
{"id":"curator-aiz","title":"Release: cache cargo-dist across runs","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T03:31:23.28218-08:00","created_by":"gkze","updated_at":"2026-01-18T03:31:23.28218-08:00"}
{"id":"curator-ar9","title":"Improve test coverage","description":"Current coverage is 17.18% line coverage. Key areas needing tests:\n\n**0% coverage (critical):**\n- `main.rs` - CLI entry point\n- `progress.rs` (CLI) - progress display\n- `github/convert.rs` - GitHub type conversions\n\n**\u003c15% coverage (high priority):**\n- `sync/engine.rs` - 7.59% (core sync logic)\n- `gitea/client.rs` - 8.75%\n- `github/client.rs` - 11.73%\n- `gitlab/client.rs` - 11.39%\n\n**Target:** Aim for at least 50% overall coverage.\n\nRun `cargo llvm-cov` to check current coverage.","acceptance_criteria":"Increase overall line coverage toward 50% by adding tests in listed low-coverage areas; coverage report reflects improvement and tests pass.","notes":"See dependent tasks (CLI, DB, HTTP, proptest) for specific coverage work.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-14T08:39:03.330501-08:00","created_by":"gkze","updated_at":"2026-01-19T11:39:40.269007-08:00","dependencies":[{"issue_id":"curator-ar9","depends_on_id":"curator-01l","type":"relates-to","created_at":"2026-01-14T22:21:51.982842-08:00","created_by":"gkze"}]}
{"id":"curator-b7w","title":"Add platform client factory function","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T18:01:20.664957-08:00","created_by":"george","updated_at":"2026-01-11T18:01:20.664957-08:00"}
{"id":"curator-bb5","title":"Refactor platform clients to use shared retry and conversion utilities","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:01:20.34933-08:00","created_by":"george","updated_at":"2026-01-11T18:15:26.238175-08:00","closed_at":"2026-01-11T18:15:26.238175-08:00","close_reason":"Completed as part of dependency tasks. All platform clients now use: (1) crate::retry::default_backoff() for retry logic, (2) repo.to_active_model(platform) for conversion, (3) CodeVisibility enum for proper visibility handling. Code duplication significantly reduced across github/, gitlab/, and gitea/ modules.","dependencies":[{"issue_id":"curator-bb5","depends_on_id":"curator-3ko","type":"blocks","created_at":"2026-01-11T18:01:30.676547-08:00","created_by":"george"},{"issue_id":"curator-bb5","depends_on_id":"curator-c00","type":"blocks","created_at":"2026-01-11T18:01:30.817881-08:00","created_by":"george"},{"issue_id":"curator-bb5","depends_on_id":"curator-9tt","type":"blocks","created_at":"2026-01-11T18:01:30.970619-08:00","created_by":"george"},{"issue_id":"curator-bb5","depends_on_id":"curator-eup","type":"blocks","created_at":"2026-01-11T18:01:31.122743-08:00","created_by":"george"}]}
{"id":"curator-bgx","title":"Consolidate FetchResult and ConditionalResult types","status":"open","priority":4,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T16:03:00.110659-08:00","created_by":"gkze","updated_at":"2026-01-23T16:03:00.110659-08:00"}
{"id":"curator-bi6","title":"Add HTTP mocking tests for API clients","description":"Add integration tests using HTTP mocking (wiremock or httpmock) to test API client behavior without making real API calls.\n\nShould cover:\n- Pagination handling\n- Rate limit response handling\n- Error response handling (403, 404, 500)\n- ETag/caching behavior\n- Retry logic\n\nClients to test:\n- GitHubClient\n- GitLabClient\n- GiteaClient\n\nThis is a sub-task of curator-ar9 (Improve test coverage).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-14T22:20:34.957599-08:00","created_by":"gkze","updated_at":"2026-01-14T22:20:34.957599-08:00","dependencies":[{"issue_id":"curator-bi6","depends_on_id":"curator-ar9","type":"blocks","created_at":"2026-01-14T22:21:38.471253-08:00","created_by":"gkze"}]}
{"id":"curator-bjw","title":"Implement repository CRUD operations","description":"Add insert, update, upsert, query, delete operations for Repository entity in curator lib.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T19:27:34.91051-08:00","created_by":"george","updated_at":"2026-01-11T10:13:10.894069-08:00","closed_at":"2026-01-11T10:13:10.894069-08:00","close_reason":"Implemented CRUD operations in curator::repository module: insert, find_by_id, find_by_platform_id, update, upsert, delete (single); insert_many, upsert_many, delete_many, delete_by_platform (bulk); find_all, find_by_platform, find_by_owner, find_stale, count, count_by_platform (queries). All with pagination support.","dependencies":[{"issue_id":"curator-bjw","depends_on_id":"curator-z18","type":"blocks","created_at":"2026-01-10T19:27:40.934044-08:00","created_by":"george"}]}
{"id":"curator-bph","title":"Implement PKCE OAuth flow for Gitea/Codeberg/Forgejo","description":"Add OAuth 2.0 Authorization Code Grant with PKCE for Gitea-based platforms, using a local HTTP callback server. This enables browser-based login similar to GitHub/GitLab device flow but using the PKCE standard since Gitea doesn't support device flow.","status":"closed","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:05.318543-08:00","created_by":"gkze","updated_at":"2026-01-28T22:26:47.225751-08:00","closed_at":"2026-01-28T22:26:47.225751-08:00","close_reason":"Implemented in commit 222fa33"}
{"id":"curator-bz4","title":"Implement proactive rate limiting with `governor`","description":"## Summary\nImplement proactive client-side rate limiting using the `governor` crate to prevent hitting API rate limits rather than reacting to them with retries.\n\n## Current Implementation\nRate limiting is handled reactively:\n1. Make API request\n2. If 429/403 returned, retry with exponential backoff (`backon`)\n3. Repeat until success or max retries\n\nThe `governor` crate is already in `Cargo.toml` as an optional dependency but appears unused.\n\n## Proposed Change\nAdd proactive rate limiting before API calls to stay under platform limits:\n\n```rust\nuse governor::{Quota, RateLimiter};\nuse std::num::NonZeroU32;\n\n// Per-platform rate limiters\nlet github_limiter = RateLimiter::direct(Quota::per_second(NonZeroU32::new(10).unwrap()));\nlet gitlab_limiter = RateLimiter::direct(Quota::per_second(NonZeroU32::new(5).unwrap()));\n\n// Before each API call:\nlimiter.until_ready().await;\nclient.api_call().await?;\n```\n\n## Benefits\n- Fewer API errors and retries\n- More predictable throughput\n- Better behavior for concurrent operations (starring multiple repos)\n- Respects platform rate limits proactively\n\n## Platform Rate Limits (for reference)\n- **GitHub**: 5000 requests/hour (authenticated), ~1.4/sec\n- **GitLab**: Varies by instance, typically 300-600/min\n- **Gitea/Codeberg**: Instance-dependent, conservative default recommended\n\n## Implementation Notes\n- Add rate limiter to each `*Client` struct\n- Configure limits per-platform (could be in config file)\n- Keep existing retry logic as fallback for transient errors\n- Consider burst allowance for initial requests\n\n## Files to Modify\n- `crates/curator/src/github/client.rs`\n- `crates/curator/src/gitlab/client.rs`\n- `crates/curator/src/gitea/client.rs`\n- `crates/curator/src/platform.rs` (potentially add to trait)\n- `crates/curator_cli/src/config.rs` (optional: configurable limits)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-13T13:04:51.792077-08:00","created_by":"george","updated_at":"2026-01-13T14:52:43.794653-08:00","closed_at":"2026-01-13T14:52:43.794653-08:00","close_reason":"Implemented ApiRateLimiter using governor crate in platform.rs. Used throughout sync engine and CLI handlers."}
{"id":"curator-c00","title":"Create shared retry utilities module","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:01:19.864377-08:00","created_by":"george","updated_at":"2026-01-11T18:12:23.629043-08:00","closed_at":"2026-01-11T18:12:23.629043-08:00","close_reason":"Created shared retry module at crates/curator/src/retry.rs with RetryConfig and default_backoff(). Refactored all platform clients and repo modules to use the shared retry utilities instead of duplicated code."}
{"id":"curator-c42","title":"Consolidate entity crate into curator","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-11T10:08:24.862027-08:00","created_by":"george","updated_at":"2026-01-11T10:08:29.592863-08:00","closed_at":"2026-01-11T10:08:29.592863-08:00","close_reason":"Moved entity module (CodeRepository, CodePlatform, CodeVisibility) from separate crate into curator/src/entity/. Renamed with code_ prefix for namespace consistency."}
{"id":"curator-c94","title":"Remove redundant format job from CI","description":"The `format` job is redundant since `nix flake check` already runs treefmt via treefmt-nix. Remove the separate format job and update the checks job to not depend on it. Expected savings: ~1.5 min off critical path.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T15:49:14.81904-08:00","created_by":"gkze","updated_at":"2026-01-18T17:25:48.016919-08:00","closed_at":"2026-01-18T17:25:48.016919-08:00","close_reason":"Closed"}
{"id":"curator-cox","title":"Gitea: Implement ETag caching for API requests","description":"Implement ETag caching for Gitea API requests to reduce rate limit usage and improve performance.\n\nTODOs at:\n- crates/curator/src/gitea/client.rs:434\n- crates/curator/src/gitea/client.rs:461\n- crates/curator/src/gitea/client.rs:555\n- crates/curator/src/gitea/client.rs:587\n\nThis should follow the same pattern as GitHub ETag caching (curator-eqx) and GitLab ETag caching (curator-vvy).","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-14T22:20:23.182449-08:00","created_by":"gkze","updated_at":"2026-01-14T22:20:23.182449-08:00","dependencies":[{"issue_id":"curator-cox","depends_on_id":"curator-vvy","type":"relates-to","created_at":"2026-01-14T22:21:32.670704-08:00","created_by":"gkze"},{"issue_id":"curator-cox","depends_on_id":"curator-eqx","type":"relates-to","created_at":"2026-01-14T22:21:33.25484-08:00","created_by":"gkze"},{"issue_id":"curator-cox","depends_on_id":"curator-97x","type":"relates-to","created_at":"2026-01-14T22:21:51.136119-08:00","created_by":"gkze"}]}
{"id":"curator-cpm","title":"Define Repository entity with SeaORM","description":"Create repository.rs entity with all fields from the data model plan: UUID, platform identity, naming, URLs, content, visibility flags, statistics, features, timestamps, and JSONB platform_metadata","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:50:15.021703-08:00","created_by":"george","updated_at":"2026-01-10T17:54:29.064935-08:00","closed_at":"2026-01-10T17:54:29.064935-08:00","close_reason":"Created repository.rs entity with all fields, platform/visibility enums, JSONB metadata","dependencies":[{"issue_id":"curator-cpm","depends_on_id":"curator-9w3","type":"blocks","created_at":"2026-01-10T17:50:21.405952-08:00","created_by":"george"}]}
{"id":"curator-cs1","title":"Create generic with_retry() wrapper for rate limit handling","description":"Rate limit retry pattern is duplicated ~80 lines across github/client.rs, gitlab/client.rs, and gitea/client.rs. Create a generic retry wrapper in the platform module.","status":"closed","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-25T15:20:07.210972-08:00","created_by":"gkze","updated_at":"2026-01-25T15:49:26.591268-08:00","closed_at":"2026-01-25T15:49:26.591268-08:00","close_reason":"Fixed in commit 731386b"}
{"id":"curator-ctd","title":"Cleanup: remove duplicated code and update documentation","description":"Final cleanup after refactoring is complete.\n\n**Delete:**\n- crates/curator/src/github/sync.rs (replaced by sync/engine.rs)\n- crates/curator/src/gitlab/sync.rs (replaced by sync/engine.rs)\n\n**Clean up:**\n- Remove dead code from github/types.rs, gitlab/types.rs\n- Remove duplicated functions from github/repo.rs, gitlab/repo.rs\n\n**Update:**\n- Module documentation\n- AGENTS.md with new architecture\n\n**Effort:** 2 hours\n**Risk:** Low","status":"closed","priority":3,"issue_type":"chore","created_at":"2026-01-11T16:37:24.687644-08:00","created_by":"george","updated_at":"2026-01-13T14:53:41.844998-08:00","closed_at":"2026-01-13T14:53:41.844998-08:00","close_reason":"Cleanup completed: github/sync.rs, gitlab/sync.rs, gitea/sync.rs already deleted. All platforms now use unified sync/engine.rs.","dependencies":[{"issue_id":"curator-ctd","depends_on_id":"curator-9jl","type":"blocks","created_at":"2026-01-11T16:37:40.584143-08:00","created_by":"george"}]}
{"id":"curator-cw7","title":"Add CONTRIBUTING.md documentation","description":"Create a CONTRIBUTING.md file to guide contributors.\n\nShould include:\n- Development environment setup\n- How to run tests\n- Code style expectations\n- PR process and review guidelines\n- Issue/bug reporting guidelines\n- Commit message conventions\n\nReference the bd (beads) issue tracker workflow from AGENTS.md.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-14T22:20:49.385727-08:00","created_by":"gkze","updated_at":"2026-01-14T22:20:49.385727-08:00","dependencies":[{"issue_id":"curator-cw7","depends_on_id":"curator-5gw","type":"relates-to","created_at":"2026-01-14T22:21:45.300337-08:00","created_by":"gkze"}]}
{"id":"curator-d8t","title":"Implement dynamic concurrency based on backpressure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:00:44.769329-08:00","created_by":"george","updated_at":"2026-01-11T14:08:09.711169-08:00","closed_at":"2026-01-11T14:08:09.711169-08:00","close_reason":"Implementation complete and tested"}
{"id":"curator-dfl","title":"Move robust persist task from CLI to library","status":"closed","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T16:02:55.866648-08:00","created_by":"gkze","updated_at":"2026-01-25T14:35:54.510259-08:00","closed_at":"2026-01-25T14:35:54.510259-08:00","close_reason":"Implemented in commit 14dae8a"}
{"id":"curator-dij","title":"Extract persist task wrapper in SyncContext and SyncRunner","description":"The channel creation + spawn_persist_task + await_persist_task boilerplate (~8 lines each) repeats in 5 methods in crates/curator/src/sync/context.rs (lines 219-424) and 5 methods in crates/curator_cli/src/commands/shared.rs (lines 292-452). Extract a with_persist_task(f) wrapper method on both SyncContext and SyncRunner that handles the setup/teardown, reducing ~115 lines of duplication.","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T16:21:41.379855-08:00","created_by":"gkze","updated_at":"2026-01-27T16:21:41.379855-08:00"}
{"id":"curator-dkm","title":"CI: remove redundant nix build job","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T03:31:22.012598-08:00","created_by":"gkze","updated_at":"2026-01-18T03:31:22.012598-08:00"}
{"id":"curator-dqh","title":"Create initial repositories table migration","description":"Write migration to create repositories table with all columns, unique constraint on (platform, platform_id), and indexes for platform, owner/name, full_name, stars, language, topics (GIN), visibility, synced_at","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:50:15.287248-08:00","created_by":"george","updated_at":"2026-01-10T17:56:16.447824-08:00","closed_at":"2026-01-10T17:56:16.447824-08:00","close_reason":"Created migration with all columns, unique constraint, and indexes (platform, owner/name, full_name, stars, language, topics GIN, visibility, synced_at)","dependencies":[{"issue_id":"curator-dqh","depends_on_id":"curator-cpm","type":"blocks","created_at":"2026-01-10T17:50:21.560038-08:00","created_by":"george"},{"issue_id":"curator-dqh","depends_on_id":"curator-6ga","type":"blocks","created_at":"2026-01-10T17:50:21.63966-08:00","created_by":"george"}]}
{"id":"curator-dri","title":"Update flake.nix with sea-orm-cli","description":"Replace diesel-cli with sea-orm-cli in Nix devshell packages","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-10T17:50:15.569812-08:00","created_by":"george","updated_at":"2026-01-10T17:51:45.654401-08:00","closed_at":"2026-01-10T17:51:45.654401-08:00","close_reason":"Replaced diesel-cli with sea-orm-cli in devshell"}
{"id":"curator-ecg","title":"Add CHANGELOG.md","description":"Create a CHANGELOG.md to track version history and changes.\n\nFollow Keep a Changelog format (https://keepachangelog.com/).\n\nSections:\n- Added\n- Changed\n- Deprecated\n- Removed\n- Fixed\n- Security\n\nShould be updated with each release.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-14T22:21:08.582762-08:00","created_by":"gkze","updated_at":"2026-01-14T22:21:08.582762-08:00","dependencies":[{"issue_id":"curator-ecg","depends_on_id":"curator-icw","type":"relates-to","created_at":"2026-01-14T22:21:46.748087-08:00","created_by":"gkze"}]}
{"id":"curator-eqx","title":"GitHub: Implement streaming with ETag caching","description":"Currently streaming doesn't cache. Need to implement ETag caching for streaming endpoints. See TODO at crates/curator/src/github/client.rs:1209","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T16:47:57.220355-08:00","created_by":"gkze","updated_at":"2026-01-19T17:11:12.543973-08:00","closed_at":"2026-01-19T17:11:12.543973-08:00","close_reason":"Implemented ETag caching for streamed starred repos by routing through cached fetches; added cache-hit fallback for starred cache and preserved non-cached streaming.","dependencies":[{"issue_id":"curator-eqx","depends_on_id":"curator-cox","type":"relates-to","created_at":"2026-01-14T22:21:33.265544-08:00","created_by":"gkze"},{"issue_id":"curator-eqx","depends_on_id":"curator-vvy","type":"relates-to","created_at":"2026-01-14T22:21:33.852127-08:00","created_by":"gkze"}]}
{"id":"curator-eup","title":"Add default star_repo_with_retry implementation to PlatformClient trait","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:01:20.18865-08:00","created_by":"george","updated_at":"2026-01-11T18:14:58.870691-08:00","closed_at":"2026-01-11T18:14:58.870691-08:00","close_reason":"Analyzed and decided to keep per-platform implementations of star_repo_with_retry. The retry logic operates on platform-specific error types before conversion to PlatformError, enabling more precise rate limit detection. Added PlatformError::is_rate_limited() helper. The shared default_backoff() from retry module is already used by all platforms, achieving the main goal of code consolidation.","dependencies":[{"issue_id":"curator-eup","depends_on_id":"curator-c00","type":"blocks","created_at":"2026-01-11T18:01:30.5291-08:00","created_by":"george"}]}
{"id":"curator-ev4","title":"Add --json output mode to more CLI commands","status":"open","priority":4,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:59.068856-08:00","created_by":"gkze","updated_at":"2026-01-17T20:27:59.068856-08:00"}
{"id":"curator-f8q","title":"Add path filtering to skip CI for non-code changes","description":"Add `paths-ignore` to the CI workflow to skip the full test matrix for documentation or config-only changes (e.g., README updates, .md files). This saves CI minutes and reduces noise.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T15:49:16.914621-08:00","created_by":"gkze","updated_at":"2026-01-18T19:10:29.357207-08:00","closed_at":"2026-01-18T19:10:29.357207-08:00","close_reason":"Closed"}
{"id":"curator-fhw","title":"Modularize sync engine and reduce duplication across namespace/user/streaming","description":"Refactor sync pipeline to reduce duplication across namespace/user and streaming variants; split sync/engine.rs into smaller modules (fetch/filter/star/persist).","acceptance_criteria":"Split crates/curator/src/sync/engine.rs into smaller modules for fetch/filter/star/persist, reduce duplicated flows between namespace/user and streaming paths, and keep the public API stable via re-exports.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-19T08:52:11.667392-08:00","created_by":"gkze","updated_at":"2026-01-19T12:17:44.709276-08:00","closed_at":"2026-01-19T12:17:44.709276-08:00","close_reason":"Refactor complete","dependencies":[{"issue_id":"curator-fhw","depends_on_id":"curator-6s0","type":"parent-child","created_at":"2026-01-19T08:57:29.207719-08:00","created_by":"gkze"}]}
{"id":"curator-fs2","title":"Split curator_cli/src/progress.rs into interactive/logging modules","description":"Split CLI progress reporter into interactive and logging submodules to reduce file size and improve readability.","acceptance_criteria":"Split crates/curator_cli/src/progress.rs into interactive/logging modules, keep the ProgressReporter API unchanged, and preserve behavior for both TTY and non-TTY output.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-19T08:52:12.963953-08:00","created_by":"gkze","updated_at":"2026-01-19T10:11:45.100074-08:00","closed_at":"2026-01-19T10:11:45.100074-08:00","close_reason":"split progress reporter into interactive and logging modules","dependencies":[{"issue_id":"curator-fs2","depends_on_id":"curator-6s0","type":"parent-child","created_at":"2026-01-19T08:57:29.536457-08:00","created_by":"gkze"}]}
{"id":"curator-fwv","title":"Switch from Cachix to Magic Nix Cache","description":"Replace Cachix with `DeterminateSystems/magic-nix-cache-action` for better GitHub Actions cache integration. Benefits:\n- Uses GitHub Actions cache (often faster than Cachix)\n- Simpler setup (no auth token needed for cache reads)\n- Better cache hit rates\n\nExpected savings: ~20-30s per job (~4 min total across all jobs).","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T15:49:18.153794-08:00","created_by":"gkze","updated_at":"2026-01-18T17:21:25.866545-08:00","closed_at":"2026-01-18T17:21:25.866545-08:00","close_reason":"Closed"}
{"id":"curator-fyc","title":"Implement batch database upserts with ON CONFLICT","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:00:44.427385-08:00","created_by":"george","updated_at":"2026-01-11T14:08:09.664579-08:00","closed_at":"2026-01-11T14:08:09.664579-08:00","close_reason":"Implementation complete and tested"}
{"id":"curator-gec","title":"Secure cross-platform token storage using OS keychain","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T23:23:11.014512-08:00","created_by":"gkze","updated_at":"2026-01-17T23:23:11.014512-08:00","dependencies":[{"issue_id":"curator-gec","depends_on_id":"curator-8h8","type":"blocks","created_at":"2026-01-17T23:23:47.580583-08:00","created_by":"gkze"}]}
{"id":"curator-h11","title":"Define typed platform metadata structs","description":"Create GitHubMetadata, GitLabMetadata, CodebergMetadata structs for type-safe JSONB platform_metadata field handling","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T17:50:15.42701-08:00","created_by":"george","updated_at":"2026-01-22T15:12:40.955575-08:00","closed_at":"2026-01-22T15:12:40.955575-08:00","close_reason":"Closed","dependencies":[{"issue_id":"curator-h11","depends_on_id":"curator-cpm","type":"blocks","created_at":"2026-01-10T17:50:21.71456-08:00","created_by":"george"}]}
{"id":"curator-h1ii","title":"Add tests for Gitea OAuth PKCE module","description":"Add unit tests to crates/curator/src/gitea/oauth.rs:\n- Test PKCE code verifier generation (length, charset)\n- Test code challenge generation (SHA256 + base64url)\n- Test state generation\n- Test authorization URL building\n- Test AccessTokenResponse deserialization\n- Test error handling","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:24.925672-08:00","created_by":"gkze","updated_at":"2026-01-28T17:57:24.925672-08:00","dependencies":[{"issue_id":"curator-h1ii","depends_on_id":"curator-k38","type":"blocks","created_at":"2026-01-28T17:57:33.467979-08:00","created_by":"gkze"}]}
{"id":"curator-h6x","title":"Split fetch_concurrency and star_concurrency config options","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:54.093404-08:00","created_by":"gkze","updated_at":"2026-01-17T20:27:54.093404-08:00"}
{"id":"curator-hbx","title":"Add ETag caching for user repos (list_user_repos)","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T16:02:59.389927-08:00","created_by":"gkze","updated_at":"2026-01-23T16:02:59.389927-08:00","dependencies":[{"issue_id":"curator-hbx","depends_on_id":"curator-pxb","type":"blocks","created_at":"2026-01-23T16:03:11.634964-08:00","created_by":"gkze"}]}
{"id":"curator-hsi","title":"Migrate configuration management to `config` crate","description":"## Summary\nReplace the manual configuration layering in `crates/curator_cli/src/config.rs` with the `config` crate for unified environment variable and file-based configuration.\n\n## Current Implementation\nThe current approach manually layers env vars over TOML config with repetitive getter methods (lines 140-220):\n```rust\npub fn database_url(\u0026self) -\u003e Option\u003cString\u003e {\n    std::env::var(\"DATABASE_URL\")\n        .ok()\n        .or_else(|| self.database.url.clone())\n}\n// Repeated 6 more times for each config value\n```\n\n## Proposed Change\nUse the `config` crate (v0.15) which provides:\n- Unified env var + file + defaults layering\n- Type coercion and validation\n- Automatic prefix-based env var mapping (`CURATOR_DATABASE_URL`)\n- Support for TOML, JSON, YAML\n\n## Example\n```rust\nuse config::{Config, Environment, File};\n\nlet settings = Config::builder()\n    .add_source(File::with_name(\"curator\").required(false))\n    .add_source(Environment::with_prefix(\"CURATOR\").separator(\"_\"))\n    .build()?;\n\nlet db_url: Option\u003cString\u003e = settings.get(\"database.url\").ok();\n```\n\n## Benefits\n- Eliminates ~80 lines of boilerplate\n- Automatic env var mapping with consistent naming\n- Better error messages for invalid config\n- Easier to add new config options in the future\n\n## Files to Modify\n- `crates/curator_cli/src/config.rs`\n- `crates/curator_cli/Cargo.toml` (add `config` dependency)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-13T13:04:38.41182-08:00","created_by":"george","updated_at":"2026-01-13T13:11:30.900294-08:00","closed_at":"2026-01-13T13:11:30.900294-08:00","close_reason":"Migrated to config crate with layered configuration support"}
{"id":"curator-i14","title":"Document platform-specific caching behavior","status":"open","priority":3,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T20:27:51.540755-08:00","created_by":"gkze","updated_at":"2026-01-17T20:27:51.540755-08:00"}
{"id":"curator-icb","title":"Define trait abstraction for platform clients","description":"**Observation:** The entity definitions support GitHub, GitLab, and Codeberg, but there's no platform-agnostic interface.\n\n**Suggestion:** Define a trait for platform clients:\n```rust\n#[async_trait]\npub trait CodePlatformClient {\n    async fn list_org_repos(\u0026self, org: \u0026str) -\u003e Result\u003cVec\u003cPlatformRepo\u003e, PlatformError\u003e;\n    async fn star_repo(\u0026self, owner: \u0026str, name: \u0026str) -\u003e Result\u003cbool, PlatformError\u003e;\n    async fn get_rate_limit(\u0026self) -\u003e Result\u003cRateLimitInfo, PlatformError\u003e;\n}\n```\n\nThis would:\n- Make adding GitLab/Codeberg support much cleaner\n- Allow platform-agnostic sync logic\n- Enable easier testing with mock implementations","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T15:16:33.112485-08:00","created_by":"george","updated_at":"2026-01-11T15:40:57.346224-08:00","closed_at":"2026-01-11T15:40:57.346224-08:00","close_reason":"Added PlatformClient trait with methods: platform(), get_rate_limit(), get_org_info(), list_org_repos(), is_repo_starred(), star_repo(), star_repo_with_retry(), to_active_model(). Also added PlatformError, PlatformRepo, RateLimitInfo, OrgInfo, PlatformProgress types. 6 unit tests added."}
{"id":"curator-icr","title":"GitLab: Missing user followers count","description":"GitHub and Gitea return user followers count in get_authenticated_user(), but GitLab does not. The GitLab API may support this - investigate and implement if available.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-14T15:29:43.405198-08:00","created_by":"gkze","updated_at":"2026-01-14T15:29:43.405198-08:00"}
{"id":"curator-icw","title":"Add README badges","description":"Add essential badges to README.md.\n\nBadges to add now:\n- CI/Build status badge (GitHub Actions)\n- License badge (MIT)\n- MSRV (Minimum Supported Rust Version)\n\nFollow the common ordering: CI → License → MSRV","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-14T22:21:04.108035-08:00","created_by":"gkze","updated_at":"2026-01-16T16:28:30.858751-08:00","closed_at":"2026-01-16T16:28:30.858751-08:00","close_reason":"Added CI, License, and MSRV badges to README.md","dependencies":[{"issue_id":"curator-icw","depends_on_id":"curator-01l","type":"blocks","created_at":"2026-01-14T22:21:45.841207-08:00","created_by":"gkze"},{"issue_id":"curator-icw","depends_on_id":"curator-ecg","type":"relates-to","created_at":"2026-01-14T22:21:46.736711-08:00","created_by":"gkze"}]}
{"id":"curator-ilu","title":"Add property-based tests for configuration parsing","description":"Add property-based tests using proptest crate for configuration parsing to catch edge cases.\n\nShould test:\n- TOML parsing with arbitrary valid/invalid inputs\n- Environment variable handling\n- Configuration merging logic\n- Default value fallbacks\n\nThis is a sub-task of curator-ar9 (Improve test coverage).","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-14T22:21:13.352161-08:00","created_by":"gkze","updated_at":"2026-01-14T22:21:13.352161-08:00","dependencies":[{"issue_id":"curator-ilu","depends_on_id":"curator-ar9","type":"blocks","created_at":"2026-01-14T22:21:40.601512-08:00","created_by":"gkze"}]}
{"id":"curator-iqq","title":"Create unified sync engine","description":"Create generic sync function that works with any PlatformClient.\n\n**Create:**\n- crates/curator/src/sync/engine.rs\n\n**Key implementation:**\n- sync_namespace\u003cC: PlatformClient\u003e() - generic sync for single namespace\n- sync_namespaces\u003cC: PlatformClient + Clone\u003e() - for multiple namespaces\n- filter_by_activity() working with PlatformRepo\n- Generic starring functions (concurrent or sequential based on client capability)\n\n**Effort:** 3-4 hours\n**Risk:** Medium","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:37:12.774676-08:00","created_by":"george","updated_at":"2026-01-11T16:52:19.947325-08:00","closed_at":"2026-01-11T16:52:19.947325-08:00","close_reason":"Created unified sync engine in sync/engine.rs with generic sync_namespace(), sync_namespace_streaming(), sync_namespaces(), and sync_namespaces_streaming() functions. Unified PlatformProgress into SyncProgress. All 66 tests pass.","dependencies":[{"issue_id":"curator-iqq","depends_on_id":"curator-v1v","type":"blocks","created_at":"2026-01-11T16:37:33.067267-08:00","created_by":"george"},{"issue_id":"curator-iqq","depends_on_id":"curator-te7","type":"blocks","created_at":"2026-01-11T16:37:33.173307-08:00","created_by":"george"}]}
{"id":"curator-jsk","title":"Add SQLite support","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T10:08:41.867412-08:00","created_by":"george","updated_at":"2026-01-11T10:08:47.226785-08:00","closed_at":"2026-01-11T10:08:47.226785-08:00","close_reason":"Added postgres/sqlite/all-databases feature flags. Changed topics from PostgreSQL array to JSON for cross-DB compatibility. Changed platform_metadata from JSONB to JSON. URL fields now use TEXT type. Removed GIN index (PostgreSQL-only)."}
{"id":"curator-jvr","title":"Extract duplicated retry logic in github.rs","description":"**Location:** crates/curator/src/github.rs:370-507\n\n**Issue:** Two nearly identical functions exist:\n- `star_repo_with_retry()` (lines 370-440) - with progress callback\n- `star_repo_with_retry_internal()` (lines 443-507) - without progress callback\n\n**Suggestion:** Extract common retry logic into a generic helper function that accepts an optional notification callback, eliminating ~70 lines of duplication.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:16:12.778995-08:00","created_by":"george","updated_at":"2026-01-11T15:22:43.55903-08:00","closed_at":"2026-01-11T15:22:43.55903-08:00","close_reason":"Extracted default_backoff() helper and unified star_repo_with_retry - removed duplicate star_repo_with_retry_internal function"}
{"id":"curator-k38","title":"Implement Gitea OAuth PKCE module","description":"Create crates/curator/src/gitea/oauth.rs with:\n- OAuthError enum (Http, Parse, Server, Timeout, AccessDenied, InvalidState, Gitea)\n- PKCE utilities (generate_code_verifier, generate_code_challenge, generate_state)\n- AccessTokenResponse struct\n- build_authorization_url() function\n- exchange_code_for_token() function\n- refresh_access_token() function\n- Local callback server (start_callback_server)\n- High-level authorize() orchestration function\n\nFollow patterns from github/oauth.rs and gitlab/oauth.rs.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:14.877963-08:00","created_by":"gkze","updated_at":"2026-01-28T19:49:34.995397-08:00","closed_at":"2026-01-28T19:49:34.995397-08:00","close_reason":"Implementation complete. Uses placeholder CODEBERG_CLIENT_ID - curator-wfz will update the real Client ID once the OAuth app is registered","dependencies":[{"issue_id":"curator-k38","depends_on_id":"curator-zp1","type":"blocks","created_at":"2026-01-28T17:57:32.777034-08:00","created_by":"gkze"},{"issue_id":"curator-k38","depends_on_id":"curator-wfz","type":"blocks","created_at":"2026-01-28T17:57:32.879369-08:00","created_by":"gkze"}]}
{"id":"curator-k57","title":"Increase per-minute rate limit to 70","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:00:44.253201-08:00","created_by":"george","updated_at":"2026-01-11T14:08:09.640774-08:00","closed_at":"2026-01-11T14:08:09.640774-08:00","close_reason":"Implementation complete and tested"}
{"id":"curator-k70","title":"Evaluate library replacements for GitHub pagination parsing + Gitea client","description":"GitHub pagination parsing candidates: parse_link_header vs nom-rfc8288. Gitea client options: gitea-sdk most active; others stale. Recommendation: use parse_link_header; keep custom Gitea client unless we spike gitea-sdk.","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T00:34:31.634503-08:00","created_by":"gkze","updated_at":"2026-01-19T16:49:09.874511-08:00"}
{"id":"curator-kba","title":"Implement statistics refresh","description":"Lightweight sync for frequently-changing fields (stars, forks, open_issues). Consider separate refresh cadence from full sync.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T19:27:29.499293-08:00","created_by":"george","updated_at":"2026-01-10T19:27:29.499293-08:00","dependencies":[{"issue_id":"curator-kba","depends_on_id":"curator-387","type":"blocks","created_at":"2026-01-10T19:27:41.940298-08:00","created_by":"george"}]}
{"id":"curator-l2k","title":"Improve visibility detection in GitHub model conversion","description":"**Location:** crates/curator/src/github.rs:561-565\n\n**Issue:** Current code only checks the `private` boolean:\n```rust\nlet visibility = if repo.private.unwrap_or(false) {\n    CodeVisibility::Private\n} else {\n    CodeVisibility::Public\n};\n```\n\nThis doesn't handle the `visibility` field that some GitHub API responses include, missing \"internal\" visibility for GitHub Enterprise.\n\n**Suggestion:**\n```rust\nlet visibility = match repo.visibility.as_deref() {\n    Some(\"private\") =\u003e CodeVisibility::Private,\n    Some(\"internal\") =\u003e CodeVisibility::Internal,\n    _ if repo.private.unwrap_or(false) =\u003e CodeVisibility::Private,\n    _ =\u003e CodeVisibility::Public,\n};\n```","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:16:53.044362-08:00","created_by":"george","updated_at":"2026-01-11T15:42:00.80782-08:00","closed_at":"2026-01-11T15:42:00.80782-08:00","close_reason":"Added documentation explaining octocrab limitation (no visibility field exposed). Current implementation is correct for public org repos. Added 'private' field to platform_metadata for future reference. Internal visibility requires GitHub Enterprise which is out of scope."}
{"id":"curator-l4f","title":"Implement Codeberg API client","description":"Create Codeberg API client (Gitea-compatible). Map API response fields to Repository entity. Handle variable rate limits per instance.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:27:19.732179-08:00","created_by":"george","updated_at":"2026-01-11T18:17:01.785983-08:00","closed_at":"2026-01-11T18:17:01.785983-08:00","close_reason":"Already implemented. GitLabClient in gitlab/client.rs and GiteaClient (for Codeberg) in gitea/client.rs both implement PlatformClient trait with full functionality: list_org_repos, star_repo, star_repo_with_retry, rate limiting, and conversion to active models."}
{"id":"curator-l6d","title":"Evaluate crate2nix for per-crate Nix caching","description":"Research showed crate2nix provides per-crate caching (vs Crane's workspace-level caching). Benefits would be significant for larger workspaces but minimal for current 2-crate setup. Revisit if workspace grows significantly (10+ crates) or if full rebuilds become a bottleneck.\n\nKey differences:\n- Crane: builds entire workspace, caches dependencies as one unit\n- crate2nix: builds each crate individually, caches per-crate\n\nTradeoffs:\n- crate2nix requires maintaining Cargo.nix or using IFD\n- crate2nix has some feature limitations\n- Crane is simpler with built-in clippy/nextest support\n\nSee conversation from 2026-01-17 for full analysis.","status":"open","priority":4,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-17T21:26:40.876739-08:00","created_by":"gkze","updated_at":"2026-01-17T21:26:40.876739-08:00"}
{"id":"curator-l7u","title":"Fix invalid Rust edition (2024 → 2021)","description":"**Location:** crates/curator/Cargo.toml:3 and crates/curator_cli/Cargo.toml\n\n**Issue:** Rust edition \"2024\" doesn't exist yet. Valid editions are \"2015\", \"2018\", \"2021\". This will cause compilation failures on standard Rust toolchains.\n\n**Fix:** Change `edition = \"2024\"` to `edition = \"2021\"` in both Cargo.toml files.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-11T15:15:55.773523-08:00","created_by":"george","updated_at":"2026-01-11T17:15:18.968637-08:00","closed_at":"2026-01-11T17:15:18.968637-08:00","close_reason":"Edition was already fixed to 2021. Actual blocker was SyncProgress enum mismatch between platform-agnostic (sync/progress.rs) and platform-specific usages (github/, gitlab/). Fixed by updating all usages to use namespace instead of org/group and correct variant names."}
{"id":"curator-lqu","title":"Extract generic concurrent sync helper in engine.rs","description":"sync_namespaces, sync_namespaces_streaming, and sync_users_streaming in crates/curator/src/sync/engine.rs (lines 235-628) share ~200 lines of near-identical concurrent-spawn-join-collect logic. Extract a generic run_concurrent_sync\u003cF, R\u003e() helper parameterized by the inner sync function and result type. The three functions differ only in which inner sync function they call and whether they take a model_tx.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T16:21:31.446719-08:00","created_by":"gkze","updated_at":"2026-01-28T17:47:57.67892-08:00","closed_at":"2026-01-28T17:47:57.67892-08:00","close_reason":"Extracted ConcurrentSyncResult trait and spawn_concurrent_sync helper. Standardized error result construction across sync_namespaces, sync_namespaces_streaming, and sync_users_streaming. All 263 tests pass."}
{"id":"curator-lvz","title":"Add automatic token refresh for Gitea/Codeberg commands","description":"Add token refresh logic to Gitea/Codeberg command handlers (matching GitLab pattern):\n- Check if token is expired or near expiry before each command\n- If refresh_token exists, attempt to refresh\n- Update config with new tokens\n- Provide helpful message if refresh fails (suggest re-login)","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:23.041414-08:00","created_by":"gkze","updated_at":"2026-01-28T17:57:23.041414-08:00","dependencies":[{"issue_id":"curator-lvz","depends_on_id":"curator-7cp","type":"blocks","created_at":"2026-01-28T17:57:33.27049-08:00","created_by":"gkze"},{"issue_id":"curator-lvz","depends_on_id":"curator-p4z","type":"blocks","created_at":"2026-01-28T17:57:33.368537-08:00","created_by":"gkze"}]}
{"id":"curator-lwe","title":"Evaluate testtrim for file-level test selection","description":"## Context\nCurrently using crate-level affected test detection via `cargo-nextest` `rdeps()` filters in CI. This gives ~50% test reduction on PRs.\n\n## Proposal\nEvaluate `testtrim` (https://codeberg.org/testtrim/testtrim) for file-level test selection, which could achieve ~90% test reduction based on their benchmarks.\n\n## How testtrim works\n1. Runs each test individually with coverage instrumentation\n2. Inverts coverage data: maps code files → tests that exercise them\n3. On future commits, uses git diff to find changed files\n4. Queries coverage DB to identify only the affected tests\n\n## Evaluation tasks\n- [ ] Install testtrim and run on curator repo\n- [ ] Compare test reduction vs current crate-level approach\n- [ ] Measure coverage collection overhead\n- [ ] Assess CI integration complexity (coverage DB storage)\n- [ ] Decide: worth the added complexity?\n\n## References\n- testtrim docs: https://codeberg.org/testtrim/testtrim\n- Current CI: `.github/workflows/ci.yml` (lines 83-112)\n- PR #4: Added crate-level affected test detection","status":"open","priority":3,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T02:36:52.098629-08:00","created_by":"gkze","updated_at":"2026-01-18T02:37:02.714146-08:00"}
{"id":"curator-mal","title":"Strip null values from platform_metadata JSON to reduce database size","description":"The platform_metadata field in code_repositories stores ~4.2MB of JSON data, but most values are null. Each row stores redundant null key names like:\n\n```json\n{\"allow_auto_merge\":null,\"allow_merge_commit\":null,\"allow_rebase_merge\":null,\"allow_squash_merge\":null,\"delete_branch_on_merge\":null,\"node_id\":\"R_kgDOQ5QxfQ\",\"private\":false}\n```\n\nStripping nulls would reduce this to:\n\n```json\n{\"node_id\":\"R_kgDOQ5QxfQ\",\"private\":false}\n```\n\nThis would save ~3MB (~75% of the field's storage) across 22,327 rows, reducing average row size from ~186 bytes to ~40 bytes for this field.\n\nImplementation options:\n1. Strip nulls before inserting/updating in the sync code\n2. Run a one-time migration to clean existing data","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T21:32:53.383667-08:00","created_by":"gkze","updated_at":"2026-01-17T20:37:57.012044-08:00","closed_at":"2026-01-17T20:37:57.012044-08:00","close_reason":"Added strip_null_values() helper in platform.rs and applied it to all platform_metadata construction in github/convert.rs, gitlab/convert.rs, and gitea/convert.rs. This removes null values from JSON before storage, reducing database size."}
{"id":"curator-mge","title":"Release: run cargo-dist builds inside nix devshell","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T03:31:22.752824-08:00","created_by":"gkze","updated_at":"2026-01-18T03:31:22.752824-08:00"}
{"id":"curator-nva","title":"CI: add magic nix cache for better binary reuse","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T03:31:23.88331-08:00","created_by":"gkze","updated_at":"2026-01-18T03:31:23.88331-08:00"}
{"id":"curator-nwk","title":"Split curator_cli/src/main.rs by command group","description":"Refactor curator_cli/src/main.rs to move command implementations into separate modules organized by command group (e.g., sync, config, auth).","acceptance_criteria":"main.rs contains CLI wiring only; command logic resides in new modules by group; CLI behavior/flags unchanged; tests/build pass.","notes":"Prefer re-exports to keep public CLI interfaces stable.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T00:34:31.482972-08:00","created_by":"gkze","updated_at":"2026-01-19T22:11:36.59318-08:00","closed_at":"2026-01-19T22:11:36.59318-08:00","close_reason":"Completed in fe4a831: main.rs split into commands/ module with gitea, github, gitlab, limits, meta, migrate, shared submodules"}
{"id":"curator-oic","title":"GitLab: Implement OAuth device flow for interactive login","description":"GitHub has a full OAuth Device Flow (oauth.rs, 309 lines) enabling interactive login. GitLab currently requires a pre-configured PRIVATE-TOKEN only.\n\nGitLab supports OAuth2 with PKCE and Device Authorization Grant (RFC 8628). Implementing this would allow users to authenticate interactively without manually creating tokens.\n\nReference: GitHub impl in crates/curator/src/github/oauth.rs\nGitLab OAuth docs: https://docs.gitlab.com/ee/api/oauth2.html","status":"closed","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T15:17:31.959135-08:00","created_by":"gkze","updated_at":"2026-01-27T15:48:17.666949-08:00","closed_at":"2026-01-27T15:48:17.666949-08:00","close_reason":"Implemented GitLab OAuth device flow with automatic token refresh"}
{"id":"curator-p4z","title":"Implement login command handlers for Gitea/Codeberg","description":"Implement the login flow in crates/curator_cli/src/commands/gitea.rs:\n- Start local callback server on port 18484\n- Generate PKCE code verifier/challenge\n- Build and open authorization URL in browser\n- Wait for callback with authorization code\n- Exchange code for token\n- Save token to config\n- Print success message\n\nFor self-hosted Gitea, require client_id in config and provide helpful error message if missing.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:18.970741-08:00","created_by":"gkze","updated_at":"2026-01-29T09:44:21.529225-08:00","closed_at":"2026-01-29T09:44:21.529225-08:00","close_reason":"Completed as part of curator-8tlp - unified login.rs implements Codeberg OAuth and explains manual setup for self-hosted Gitea","dependencies":[{"issue_id":"curator-p4z","depends_on_id":"curator-k38","type":"blocks","created_at":"2026-01-28T17:57:32.975869-08:00","created_by":"gkze"},{"issue_id":"curator-p4z","depends_on_id":"curator-tig","type":"blocks","created_at":"2026-01-28T17:57:33.071951-08:00","created_by":"gkze"}]}
{"id":"curator-p6f","title":"Add docs.rs badge to README","description":"Add docs.rs documentation badge to README.md once the crate is published.\n\nBadge format:\n```markdown\n[![docs.rs](https://docs.rs/curator/badge.svg)](https://docs.rs/curator)\n```\n\nBlocked until crate is published to crates.io.","status":"open","priority":4,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-16T16:22:29.341606-08:00","created_by":"gkze","updated_at":"2026-01-16T16:22:29.341606-08:00"}
{"id":"curator-p90","title":"Handle semaphore acquire errors instead of unwrap","description":"**Location:** crates/curator/src/github.rs:703, 835, 917, etc.\n\n**Issue:** Multiple places have:\n```rust\nlet _permit = semaphore.acquire().await.unwrap();\n```\n\nThis could panic if semaphore is closed (unlikely but possible in edge cases during shutdown).\n\n**Suggestion:** Handle the error gracefully:\n```rust\nlet _permit = semaphore.acquire().await\n    .map_err(|_| GitHubError::Internal(\"Semaphore closed unexpectedly\"))?;\n```\n\nOr use `expect()` with a descriptive message if panic is acceptable.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T15:16:52.79187-08:00","created_by":"george","updated_at":"2026-01-11T15:24:06.087503-08:00","closed_at":"2026-01-11T15:24:06.087503-08:00","close_reason":"Fixed in star_repos_batch() - now uses .expect() with descriptive message instead of .unwrap()"}
{"id":"curator-pvu","title":"Add helper for owner/name extraction from GitHubRepo","description":"**Location:** crates/curator/src/github.rs - appears 6+ times\n\n**Issue:** Repeated pattern throughout the codebase:\n```rust\nlet owner = repo.owner.as_ref().map(|o| o.login.clone()).unwrap_or_default();\nlet name = repo.name.clone();\n```\n\n**Suggestion:** Add a helper method or extension trait:\n```rust\ntrait RepoExt {\n    fn owner_name(\u0026self) -\u003e (String, String);\n}\n\nimpl RepoExt for GitHubRepo {\n    fn owner_name(\u0026self) -\u003e (String, String) {\n        (\n            self.owner.as_ref().map(|o| o.login.clone()).unwrap_or_default(),\n            self.name.clone(),\n        )\n    }\n}\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:16:13.171778-08:00","created_by":"george","updated_at":"2026-01-11T15:22:43.768357-08:00","closed_at":"2026-01-11T15:22:43.768357-08:00","close_reason":"Added RepoIdentity trait with owner_login(), repo_name(), and owner_and_name() methods"}
{"id":"curator-pxb","title":"Extract PaginatedFetcher abstraction to reduce caching code duplication","status":"closed","priority":1,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T16:02:55.454448-08:00","created_by":"gkze","updated_at":"2026-01-23T16:12:35.430628-08:00","closed_at":"2026-01-23T16:12:35.430628-08:00","close_reason":"Implemented PaginatedFetcher abstraction in crates/curator/src/github/pagination.rs. Refactored list_org_repos_cached and list_starred_repos_cached to use fetch_pages(), reducing code from ~200 lines each to ~40 lines. All 110 tests pass, clippy is clean."}
{"id":"curator-qlm","title":"GitLab: Increase unit test coverage to match GitHub (~33 tests)","description":"GitLab has ~19 unit tests vs GitHub's ~33. Key areas needing more coverage:\n\n- client.rs: pagination edge cases, concurrent fetch behavior, starred cache invalidation\n- error.rs: more status code classifications, progenitor error variant coverage\n- convert.rs: edge cases (missing fields, empty strings, null optionals)\n- repo.rs: more activity filtering scenarios\n\nCurrent test locations:\n- client.rs:767-824 (5 tests)\n- error.rs:128-173 (3 tests)\n- convert.rs:83-220 (7 tests)\n- repo.rs:217-302 (4 tests)","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T15:17:32.513966-08:00","created_by":"gkze","updated_at":"2026-01-27T15:17:46.178221-08:00"}
{"id":"curator-rjt","title":"Unify CLI sync handlers with generic platform dispatch","description":"~300 lines of duplication across CLI command handlers in crates/curator_cli/src/commands/{github,gitlab,gitea}.rs. The same config-merge block (~8 lines x11), SyncOptions construction (x11), SyncRunner construction (x11), single-vs-multi dispatch (x8), and token+client setup (x12) repeat across all platforms. Introduce: (1) a ResolvedSyncConfig::from(opts, config) builder, (2) a generic handle_platform_sync() function, and (3) per-platform create_authenticated_client() helpers. Also consider a macro or generic enum for the 4 near-identical Action enum definitions in main.rs:168-344.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-27T16:21:35.476337-08:00","created_by":"gkze","updated_at":"2026-01-29T09:43:58.308026-08:00","closed_at":"2026-01-29T09:43:58.308026-08:00","close_reason":"Completed as part of curator-8tlp - instance-based platform model unified all CLI sync handlers into a single sync.rs with generic dispatch"}
{"id":"curator-rjy","title":"Implement GitLab API client","description":"Create GitLab API client to fetch project data. Map API response fields to Repository entity. Handle /languages endpoint for primary_language. Rate limit: 2000/hr.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T19:27:19.647969-08:00","created_by":"george","updated_at":"2026-01-11T18:17:01.783198-08:00","closed_at":"2026-01-11T18:17:01.783198-08:00","close_reason":"Already implemented. GitLabClient in gitlab/client.rs and GiteaClient (for Codeberg) in gitea/client.rs both implement PlatformClient trait with full functionality: list_org_repos, star_repo, star_repo_with_retry, rate limiting, and conversion to active models."}
{"id":"curator-rsw","title":"Add concurrency controls to CI workflow","description":"Add concurrency configuration to cancel in-progress runs when new commits are pushed. This prevents wasted CI minutes on superseded commits.\n\nAdd to ci.yml:\n```yaml\nconcurrency:\n  group: ci-${{ github.ref }}\n  cancel-in-progress: true\n```","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T15:49:16.042259-08:00","created_by":"gkze","updated_at":"2026-01-18T15:49:16.042259-08:00"}
{"id":"curator-rzl","title":"Add code coverage badge to README","description":"Add code coverage badge to README.md once coverage reporting is set up in CI.\n\nOptions:\n- Codecov: `[![codecov](https://codecov.io/gh/gkze/curator/branch/main/graph/badge.svg)](https://codecov.io/gh/gkze/curator)`\n- Coveralls: `[![Coverage Status](https://coveralls.io/repos/github/gkze/curator/badge.svg)](https://coveralls.io/github/gkze/curator)`\n\nDepends on curator-01l (Add code coverage reporting to CI).","status":"open","priority":4,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-16T16:22:33.652994-08:00","created_by":"gkze","updated_at":"2026-01-16T16:22:33.652994-08:00","dependencies":[{"issue_id":"curator-rzl","depends_on_id":"curator-01l","type":"blocks","created_at":"2026-01-16T16:22:38.575502-08:00","created_by":"gkze"}]}
{"id":"curator-s58","title":"Add cargo-deny policy for licenses/bans/sources","description":"Introduce cargo-deny policy for dependency licenses, bans, and source restrictions so dependency risks are enforced in automation.","acceptance_criteria":"- `deny.toml` (or equivalent) defines license allow/deny, bans, and source rules\n- CI runs `cargo deny check` and fails on policy violations\n- Policy update process is documented (e.g. in README or policy file comments)","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T03:20:57.239418-08:00","created_by":"gkze","updated_at":"2026-01-18T03:27:07.645474-08:00"}
{"id":"curator-soc","title":"Implement rate limit awareness","description":"Track synced_at per repo, prioritize stale records for refresh. Respect platform rate limits (GitHub 5000/hr, GitLab 2000/hr).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T19:27:29.381626-08:00","created_by":"george","updated_at":"2026-01-10T19:27:29.381626-08:00","dependencies":[{"issue_id":"curator-soc","depends_on_id":"curator-9v7","type":"blocks","created_at":"2026-01-10T19:27:41.83905-08:00","created_by":"george"}]}
{"id":"curator-te7","title":"Implement PlatformClient trait for GitLab with parallelization","description":"Wrap AsyncGitlab in Arc\u003ctokio::sync::Mutex\u003c\u003e\u003e to enable Clone and parallel operations.\n\n**Modify:**\n- crates/curator/src/gitlab/client.rs - Refactor with Arc\u003cMutex\u003c\u003e\u003e\n- crates/curator/src/gitlab/convert.rs - Add to_platform_repo() conversion\n- crates/curator/src/gitlab/repo.rs - Update star_projects_batch to use concurrency\n- crates/curator/src/gitlab/mod.rs - Update exports\n\n**Key implementation:**\n- GitLabClient with Arc\u003ctokio::sync::Mutex\u003cAsyncGitlab\u003e\u003e\n- Implement Clone for GitLabClient\n- Implement PlatformClient trait\n- supports_concurrency() returns true (now possible!)\n\n**Why Arc\u003cMutex\u003c\u003e\u003e is acceptable:**\n- GitLab has lower rate limits (300/min vs GitHub 5000/hr)\n- Most time is network I/O, not holding the lock\n\n**Effort:** 4-5 hours\n**Risk:** Medium-High","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:37:06.820415-08:00","created_by":"george","updated_at":"2026-01-11T16:48:16.539489-08:00","closed_at":"2026-01-11T16:48:16.539489-08:00","close_reason":"Implemented PlatformClient trait for GitLabClient with Arc\u003cMutex\u003cAsyncGitlab\u003e\u003e wrapper for cloneability. Updated sync.rs to use client methods directly. All 62 tests pass.","dependencies":[{"issue_id":"curator-te7","depends_on_id":"curator-38u","type":"blocks","created_at":"2026-01-11T16:37:29.318834-08:00","created_by":"george"}]}
{"id":"curator-tig","title":"Add Login subcommands for Codeberg and Gitea CLI","description":"Add CLI subcommands:\n- curator codeberg login\n- curator gitea login --host \u003cHOST\u003e\n\nUpdate the CLI argument definitions in main.rs or the args module.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:16.616558-08:00","created_by":"gkze","updated_at":"2026-01-28T22:26:47.228724-08:00","closed_at":"2026-01-28T22:26:47.228724-08:00","close_reason":"Implemented in commit 222fa33"}
{"id":"curator-tk7","title":"Add unit tests for core modules","description":"**Observation:** No test files found anywhere in the codebase. The `sea-orm` mock feature is in dev-dependencies but unused.\n\n**Suggestion:** Add tests at minimum for:\n- `repository.rs` CRUD operations (can use sea-orm mock)\n- `github.rs` model conversion (`to_code_repository`)\n- `filter_by_activity()` logic\n- Entity derived methods (`full_name()`, `url()`, `clone_url_ssh()`, etc.)\n\n**Priority:** High - no test coverage currently makes refactoring risky.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:16:33.564776-08:00","created_by":"george","updated_at":"2026-01-11T15:29:34.651628-08:00","closed_at":"2026-01-11T15:29:34.651628-08:00","close_reason":"Added 18 unit tests: 8 for entity/code_repository (URL generation, clone URLs for all platforms) and 10 for github module (filter_by_activity, RepoIdentity trait, default_backoff, SyncOrgOptions, SyncResult, rate limit error detection)"}
{"id":"curator-tpf","title":"Split github.rs into sub-modules","description":"**Location:** crates/curator/src/github.rs (~1000 lines)\n\n**Issue:** This module handles too many responsibilities:\n- API client creation\n- Rate limit management\n- Repository listing\n- Activity filtering\n- Starring operations\n- Model conversion\n- Sync orchestration (single org, streaming, multi-org)\n\n**Suggestion:** Split into sub-modules:\n```\nsrc/github/\n├── mod.rs           # Re-exports\n├── client.rs        # Client creation, rate limits\n├── repos.rs         # Repository listing, filtering\n├── starring.rs      # Star operations with retry\n├── convert.rs       # GitHubRepo → CodeRepository conversion\n└── sync.rs          # Orchestration logic\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:16:32.916987-08:00","created_by":"george","updated_at":"2026-01-11T15:34:47.424734-08:00","closed_at":"2026-01-11T15:34:47.424734-08:00","close_reason":"Split github.rs (~1300 lines) into 7 sub-modules: error.rs (types), types.rs (data structures), client.rs (client/rate limit), repo.rs (repo operations), sync.rs (sync operations), convert.rs (model conversion), mod.rs (re-exports). All 18 tests pass."}
{"id":"curator-ukc","title":"GitHub stars sync hangs near end due to channel backpressure deadlock","description":"## Problem\n\nThe `github stars` sync command hangs near the end of iteration (on the last or second-to-last repo) when filtering through starred repositories.\n\n## Root Cause\n\nChannel backpressure deadlock in the three-stage streaming pipeline:\n\n```\nGitHub API (fetch) \n    → repo_tx channel (buffer=100) \n    → Processor Task (filters + converts to models) \n    → model_tx channel (buffer=100) \n    → Persist Task (batches of 100, writes to DB)\n```\n\n### Deadlock Scenario:\n\n1. Fetch completes last API pages, sends final repos to `repo_tx`\n2. Processor receives repos, filters them, sends to `model_tx` via blocking `.await` (engine.rs:703)\n3. Persist task batches items and only flushes when batch=100 OR channel closed (shared.rs:185)\n4. Deadlock forms when:\n   - Persist has partial batch waiting for more items\n   - `model_tx` fills (100 items) → processor blocks\n   - `repo_tx` fills (100 items) → fetch blocks\n   - Fetch can't complete → channels never close → persist never flushes final batch\n\n## Key Files\n\n- `crates/curator/src/sync/engine.rs:636-875` - `sync_starred_streaming`\n- `crates/curator_cli/src/commands/shared.rs:147-200` - persist task loop\n- `crates/curator/src/github/client.rs:1276-1573` - `list_starred_repos_streaming`\n\n## Proposed Fixes\n\n1. Add timeout to processor channel sends (don't block indefinitely)\n2. Add time-based flushing to persist task (don't wait only for full batches)\n3. Increase channel buffer sizes (reduce backpressure likelihood)\n4. Add watchdog timeout in select loop to detect hangs","status":"closed","priority":2,"issue_type":"bug","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T12:12:31.173288-08:00","created_by":"gkze","updated_at":"2026-01-23T13:10:29.092922-08:00","closed_at":"2026-01-23T13:10:29.092922-08:00","close_reason":"Fixed by implementing time-based flushing in persist task and increasing channel buffer sizes"}
{"id":"curator-v1v","title":"Implement PlatformClient trait for GitHub","description":"Wrap Octocrab in a GitHubClient struct that implements the PlatformClient trait.\n\n**Modify:**\n- crates/curator/src/github/client.rs - Create GitHubClient struct\n- crates/curator/src/github/convert.rs - Add to_platform_repo() conversion\n- crates/curator/src/github/mod.rs - Update exports\n\n**Key implementation:**\n- GitHubClient struct wrapping Octocrab\n- Implement PlatformClient trait methods\n- supports_concurrency() returns true\n\n**Effort:** 3-4 hours\n**Risk:** Medium","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:36:59.129292-08:00","created_by":"george","updated_at":"2026-01-11T16:42:54.354901-08:00","closed_at":"2026-01-11T16:42:54.354901-08:00","close_reason":"Created GitHubClient struct implementing PlatformClient trait. Added to_platform_repo() and platform_repo_to_active_model() conversions. All 62 tests pass.","dependencies":[{"issue_id":"curator-v1v","depends_on_id":"curator-38u","type":"blocks","created_at":"2026-01-11T16:37:29.221463-08:00","created_by":"george"}]}
{"id":"curator-vhe","title":"Arc-wrap DatabaseConnection to enable caching in concurrent syncs","status":"open","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-23T16:02:57.077614-08:00","created_by":"gkze","updated_at":"2026-01-23T16:02:57.077614-08:00"}
{"id":"curator-vip","title":"Add CLI integration tests","description":"Add integration tests for the CLI using assert_cmd crate.\n\nShould cover:\n- Help output for all commands\n- Argument parsing validation\n- Error messages for invalid input\n- Configuration file loading\n- Environment variable handling\n\nThis is a sub-task of curator-ar9 (Improve test coverage).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-14T22:20:44.273833-08:00","created_by":"gkze","updated_at":"2026-01-14T22:20:44.273833-08:00","dependencies":[{"issue_id":"curator-vip","depends_on_id":"curator-ar9","type":"blocks","created_at":"2026-01-14T22:21:39.891689-08:00","created_by":"gkze"}]}
{"id":"curator-vvy","title":"GitLab/Gitea: Implement ETag caching for API requests","description":"Only GitHub implements conditional requests with ETag caching. GitLab and Gitea refetch all data every sync, wasting bandwidth on large syncs. Extend the api_cache module to support GitLab and Gitea platforms.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-14T15:29:42.637398-08:00","created_by":"gkze","updated_at":"2026-01-27T16:23:07.762723-08:00","closed_at":"2026-01-27T16:23:07.762723-08:00","close_reason":"Implemented ETag caching for all paginated GitLab API endpoints (group projects, user projects, starred projects). Uses If-None-Match conditional requests with per-page ETag storage in the api_cache DB table. On full cache hits, falls back to loading repos from local DB.","dependencies":[{"issue_id":"curator-vvy","depends_on_id":"curator-cox","type":"relates-to","created_at":"2026-01-14T22:21:32.68035-08:00","created_by":"gkze"},{"issue_id":"curator-vvy","depends_on_id":"curator-eqx","type":"relates-to","created_at":"2026-01-14T22:21:33.840711-08:00","created_by":"gkze"},{"issue_id":"curator-vvy","depends_on_id":"curator-97x","type":"relates-to","created_at":"2026-01-14T22:21:51.292847-08:00","created_by":"gkze"}]}
{"id":"curator-w2k","title":"Create generic fetch_pages_concurrent() for pagination","description":"Pagination logic with semaphore-based concurrent fetching is duplicated ~200 lines across github/client.rs and gitea/client.rs. Extract into a reusable utility function.","notes":"After analysis: the pagination patterns differ significantly (GitHub has ETag caching, Gitea doesn't). Extracting a generic utility would add complexity without clear benefit. Consider deferring or closing as won't-fix.","status":"open","priority":2,"issue_type":"feature","owner":"george.kontridze@gmail.com","created_at":"2026-01-25T15:20:04.445708-08:00","created_by":"gkze","updated_at":"2026-01-25T15:47:26.016904-08:00"}
{"id":"curator-wfz","title":"Register Curator OAuth app on Codeberg","description":"Register an OAuth2 application on codeberg.org with redirect URI http://127.0.0.1:18484/callback. Must be a public client (no secret) for PKCE flow. Record the Client ID for use in the codebase.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:10.314842-08:00","created_by":"gkze","updated_at":"2026-01-28T22:13:42.470361-08:00","closed_at":"2026-01-28T22:13:42.470361-08:00","close_reason":"Registered Curator OAuth app on Codeberg with Client ID dfe120ce-2440-4f13-8bb0-9ba5620542a7"}
{"id":"curator-xwb","title":"CI: investigate prebuilt devshell container for CI","status":"open","priority":4,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T15:51:08.184361-08:00","created_by":"gkze","updated_at":"2026-01-18T15:51:08.184361-08:00"}
{"id":"curator-y5h","title":"Consolidate platform conversion logic (reduce duplication)","description":"Identify duplicated platform conversion logic (GitHub/GitLab/Gitea) and centralize into shared helpers/traits to reduce repetition.","acceptance_criteria":"Common conversion helpers used across platforms; duplicated mapping code removed or consolidated; tests updated as needed; behavior unchanged.","notes":"Keep platform-specific edge cases isolated behind helpers.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T00:34:31.56207-08:00","created_by":"gkze","updated_at":"2026-01-19T15:14:06.882875-08:00","closed_at":"2026-01-19T15:14:06.882875-08:00","close_reason":"conversion refactor"}
{"id":"curator-z18","title":"Wire up migration CLI","description":"Connect migration binary to run against DATABASE_URL. Add up/down/status commands.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T19:27:34.772915-08:00","created_by":"george","updated_at":"2026-01-10T19:32:23.867887-08:00","closed_at":"2026-01-10T19:32:23.867887-08:00","close_reason":"Migration CLI wired up behind dev-tools feature. Commands: migrate up/down/status/generate/fresh. Requires DATABASE_URL env var."}
{"id":"curator-zef","title":"Add helper for progress callback emission","description":"**Location:** crates/curator/src/github.rs\n\n**Issue:** Many places have the same boilerplate:\n```rust\nif let Some(cb) = on_progress {\n    cb(SyncProgress::SomeEvent { ... });\n}\n```\n\n**Suggestion:** Create a helper function:\n```rust\nfn emit(on_progress: \u0026Option\u003c\u0026ProgressCallback\u003e, event: SyncProgress) {\n    if let Some(cb) = on_progress {\n        cb(event);\n    }\n}\n```","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:16:13.399748-08:00","created_by":"george","updated_at":"2026-01-11T15:22:43.970042-08:00","closed_at":"2026-01-11T15:22:43.970042-08:00","close_reason":"Added emit() helper function for progress callback emission"}
{"id":"curator-zfq","title":"Dependency freshness scan (cargo outdated -R, crates activity check)","status":"open","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-18T00:34:31.337184-08:00","created_by":"gkze","updated_at":"2026-01-18T00:34:31.337184-08:00"}
{"id":"curator-zp1","title":"Add PKCE OAuth dependencies to curator crate","description":"Add dependencies to crates/curator/Cargo.toml for PKCE OAuth flow: axum (callback server), rand (code verifier), base64 (encoding), sha2 (code challenge). Gate these behind the gitea feature flag.","status":"closed","priority":2,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-28T17:57:12.141013-08:00","created_by":"gkze","updated_at":"2026-01-28T19:49:19.370679-08:00","closed_at":"2026-01-28T19:49:19.370679-08:00","close_reason":"Added sha2, base64, rand, urlencoding, open dependencies to gitea feature"}
{"id":"curator-zri","title":"Add Crates.io version badge to README","description":"Add Crates.io version badge to README.md once the crate is published.\n\nBadge format:\n```markdown\n[![Crates.io](https://img.shields.io/crates/v/curator.svg)](https://crates.io/crates/curator)\n```\n\nBlocked until crate is published to crates.io.","status":"open","priority":4,"issue_type":"task","owner":"george.kontridze@gmail.com","created_at":"2026-01-16T16:22:28.211936-08:00","created_by":"gkze","updated_at":"2026-01-16T16:22:28.211936-08:00"}
